#!/usr/bin/env node
var Wo=Object.create;var kn=Object.defineProperty;var Go=Object.getOwnPropertyDescriptor;var Uo=Object.getOwnPropertyNames;var Ko=Object.getPrototypeOf,Yo=Object.prototype.hasOwnProperty;var $=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var _=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Qo=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Uo(e))!Yo.call(r,i)&&i!==t&&kn(r,i,{get:()=>e[i],enumerable:!(n=Go(e,i))||n.enumerable});return r};var Hn=(r,e,t)=>(t=r!=null?Wo(Ko(r)):{},Qo(e||!r||!r.__esModule?kn(t,"default",{value:r,enumerable:!0}):t,r));var $n=_(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.splitWhen=ke.flatten=void 0;function Xo(r){return r.reduce((e,t)=>[].concat(e,t),[])}ke.flatten=Xo;function Jo(r,e){let t=[[]],n=0;for(let i of r)e(i)?(n++,t[n]=[]):t[n].push(i);return t}ke.splitWhen=Jo});var Ln=_(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.isEnoentCodeError=void 0;function Zo(r){return r.code==="ENOENT"}Qe.isEnoentCodeError=Zo});var Dn=_(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.createDirentFromStats=void 0;var Pt=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};function zo(r,e){return new Pt(r,e)}Xe.createDirentFromStats=zo});var qn=_(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.convertPosixPathToPattern=B.convertWindowsPathToPattern=B.convertPathToPattern=B.escapePosixPath=B.escapeWindowsPath=B.escape=B.removeLeadingDotSegment=B.makeAbsolute=B.unixify=void 0;var ea=$("os"),ta=$("path"),Nn=ea.platform()==="win32",ra=2,na=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,ia=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,sa=/^\\\\([.?])/,oa=/\\(?![!()+@[\]{}])/g;function aa(r){return r.replace(/\\/g,"/")}B.unixify=aa;function ua(r,e){return ta.resolve(r,e)}B.makeAbsolute=ua;function ca(r){if(r.charAt(0)==="."){let e=r.charAt(1);if(e==="/"||e==="\\")return r.slice(ra)}return r}B.removeLeadingDotSegment=ca;B.escape=Nn?Tt:kt;function Tt(r){return r.replace(ia,"\\$2")}B.escapeWindowsPath=Tt;function kt(r){return r.replace(na,"\\$2")}B.escapePosixPath=kt;B.convertPathToPattern=Nn?Mn:In;function Mn(r){return Tt(r).replace(sa,"//$1").replace(oa,"/")}B.convertWindowsPathToPattern=Mn;function In(r){return kt(r)}B.convertPosixPathToPattern=In});var Bn=_(($h,Fn)=>{"use strict";Fn.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}});var Wn=_((Lh,Vn)=>{"use strict";var la=Bn(),jn={"{":"}","(":")","[":"]"},ha=function(r){if(r[0]==="!")return!0;for(var e=0,t=-2,n=-2,i=-2,s=-2,o=-2;e<r.length;){if(r[e]==="*"||r[e+1]==="?"&&/[\].+)]/.test(r[e])||n!==-1&&r[e]==="["&&r[e+1]!=="]"&&(n<e&&(n=r.indexOf("]",e)),n>e&&(o===-1||o>n||(o=r.indexOf("\\",e),o===-1||o>n)))||i!==-1&&r[e]==="{"&&r[e+1]!=="}"&&(i=r.indexOf("}",e),i>e&&(o=r.indexOf("\\",e),o===-1||o>i))||s!==-1&&r[e]==="("&&r[e+1]==="?"&&/[:!=]/.test(r[e+2])&&r[e+3]!==")"&&(s=r.indexOf(")",e),s>e&&(o=r.indexOf("\\",e),o===-1||o>s))||t!==-1&&r[e]==="("&&r[e+1]!=="|"&&(t<e&&(t=r.indexOf("|",e)),t!==-1&&r[t+1]!==")"&&(s=r.indexOf(")",t),s>t&&(o=r.indexOf("\\",t),o===-1||o>s))))return!0;if(r[e]==="\\"){var a=r[e+1];e+=2;var u=jn[a];if(u){var f=r.indexOf(u,e);f!==-1&&(e=f+1)}if(r[e]==="!")return!0}else e++}return!1},fa=function(r){if(r[0]==="!")return!0;for(var e=0;e<r.length;){if(/[*?{}()[\]]/.test(r[e]))return!0;if(r[e]==="\\"){var t=r[e+1];e+=2;var n=jn[t];if(n){var i=r.indexOf(n,e);i!==-1&&(e=i+1)}if(r[e]==="!")return!0}else e++}return!1};Vn.exports=function(e,t){if(typeof e!="string"||e==="")return!1;if(la(e))return!0;var n=ha;return t&&t.strict===!1&&(n=fa),n(e)}});var Un=_((Dh,Gn)=>{"use strict";var pa=Wn(),da=$("path").posix.dirname,ma=$("os").platform()==="win32",Ht="/",ga=/\\/g,_a=/[\{\[].*[\}\]]$/,ya=/(^|[^\\])([\{\[]|\([^\)]+$)/,Sa=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Gn.exports=function(e,t){var n=Object.assign({flipBackslashes:!0},t);n.flipBackslashes&&ma&&e.indexOf(Ht)<0&&(e=e.replace(ga,Ht)),_a.test(e)&&(e+=Ht),e+="a";do e=da(e);while(pa(e)||ya.test(e));return e.replace(Sa,"$1")}});var Je=_(ne=>{"use strict";ne.isInteger=r=>typeof r=="number"?Number.isInteger(r):typeof r=="string"&&r.trim()!==""?Number.isInteger(Number(r)):!1;ne.find=(r,e)=>r.nodes.find(t=>t.type===e);ne.exceedsLimit=(r,e,t=1,n)=>n===!1||!ne.isInteger(r)||!ne.isInteger(e)?!1:(Number(e)-Number(r))/Number(t)>=n;ne.escapeNode=(r,e=0,t)=>{let n=r.nodes[e];n&&(t&&n.type===t||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};ne.encloseBrace=r=>r.type!=="brace"?!1:r.commas>>0+r.ranges>>0===0?(r.invalid=!0,!0):!1;ne.isInvalidBrace=r=>r.type!=="brace"?!1:r.invalid===!0||r.dollar?!0:r.commas>>0+r.ranges>>0===0||r.open!==!0||r.close!==!0?(r.invalid=!0,!0):!1;ne.isOpenOrClose=r=>r.type==="open"||r.type==="close"?!0:r.open===!0||r.close===!0;ne.reduce=r=>r.reduce((e,t)=>(t.type==="text"&&e.push(t.value),t.type==="range"&&(t.type="text"),e),[]);ne.flatten=(...r)=>{let e=[],t=n=>{for(let i=0;i<n.length;i++){let s=n[i];if(Array.isArray(s)){t(s);continue}s!==void 0&&e.push(s)}return e};return t(r),e}});var Ze=_((Mh,Yn)=>{"use strict";var Kn=Je();Yn.exports=(r,e={})=>{let t=(n,i={})=>{let s=e.escapeInvalid&&Kn.isInvalidBrace(i),o=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(s||o)&&Kn.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=t(u);return a};return t(r)}});var Xn=_((Ih,Qn)=>{"use strict";Qn.exports=function(r){return typeof r=="number"?r-r===0:typeof r=="string"&&r.trim()!==""?Number.isFinite?Number.isFinite(+r):isFinite(+r):!1}});var si=_((qh,ii)=>{"use strict";var Jn=Xn(),Re=(r,e,t)=>{if(Jn(r)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||r===e)return String(r);if(Jn(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...t};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=r+":"+e+"="+i+s+o+a;if(Re.cache.hasOwnProperty(u))return Re.cache[u].result;let f=Math.min(r,e),c=Math.max(r,e);if(Math.abs(f-c)===1){let S=r+"|"+e;return n.capture?`(${S})`:n.wrap===!1?S:`(?:${S})`}let h=ni(r)||ni(e),l={min:r,max:e,a:f,b:c},E=[],g=[];if(h&&(l.isPadded=h,l.maxLen=String(l.max).length),f<0){let S=c<0?Math.abs(c):1;g=Zn(S,Math.abs(f),l,n),f=l.a=0}return c>=0&&(E=Zn(f,c,l,n)),l.negatives=g,l.positives=E,l.result=Aa(g,E,n),n.capture===!0?l.result=`(${l.result})`:n.wrap!==!1&&E.length+g.length>1&&(l.result=`(?:${l.result})`),Re.cache[u]=l,l.result};function Aa(r,e,t){let n=$t(r,e,"-",!1,t)||[],i=$t(e,r,"",!1,t)||[],s=$t(r,e,"-?",!0,t)||[];return n.concat(s).concat(i).join("|")}function ba(r,e){let t=1,n=1,i=ei(r,t),s=new Set([e]);for(;r<=i&&i<=e;)s.add(i),t+=1,i=ei(r,t);for(i=ti(e+1,n)-1;r<i&&i<=e;)s.add(i),n+=1,i=ti(e+1,n)-1;return s=[...s],s.sort(Oa),s}function Ea(r,e,t){if(r===e)return{pattern:r,count:[],digits:0};let n=va(r,e),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,f]=n[a];u===f?s+=u:u!=="0"||f!=="9"?s+=Ca(u,f,t):o++}return o&&(s+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Zn(r,e,t,n){let i=ba(r,e),s=[],o=r,a;for(let u=0;u<i.length;u++){let f=i[u],c=Ea(String(o),String(f),n),h="";if(!t.isPadded&&a&&a.pattern===c.pattern){a.count.length>1&&a.count.pop(),a.count.push(c.count[0]),a.string=a.pattern+ri(a.count),o=f+1;continue}t.isPadded&&(h=xa(f,t,n)),c.string=h+c.pattern+ri(c.count),s.push(c),o=f+1,a=c}return s}function $t(r,e,t,n,i){let s=[];for(let o of r){let{string:a}=o;!n&&!zn(e,"string",a)&&s.push(t+a),n&&zn(e,"string",a)&&s.push(t+a)}return s}function va(r,e){let t=[];for(let n=0;n<r.length;n++)t.push([r[n],e[n]]);return t}function Oa(r,e){return r>e?1:e>r?-1:0}function zn(r,e,t){return r.some(n=>n[e]===t)}function ei(r,e){return Number(String(r).slice(0,-e)+"9".repeat(e))}function ti(r,e){return r-r%Math.pow(10,e)}function ri(r){let[e=0,t=""]=r;return t||e>1?`{${e+(t?","+t:"")}}`:""}function Ca(r,e,t){return`[${r}${e-r===1?"":"-"}${e}]`}function ni(r){return/^-?(0+)\d/.test(r)}function xa(r,e,t){if(!e.isPadded)return r;let n=Math.abs(e.maxLen-String(r).length),i=t.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Re.cache={};Re.clearCache=()=>Re.cache={};ii.exports=Re});var Nt=_((Fh,fi)=>{"use strict";var Ra=$("util"),ai=si(),oi=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),wa=r=>e=>r===!0?Number(e):String(e),Lt=r=>typeof r=="number"||typeof r=="string"&&r!=="",Ie=r=>Number.isInteger(+r),Dt=r=>{let e=`${r}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},Pa=(r,e,t)=>typeof r=="string"||typeof e=="string"?!0:t.stringify===!0,Ta=(r,e,t)=>{if(e>0){let n=r[0]==="-"?"-":"";n&&(r=r.slice(1)),r=n+r.padStart(n?e-1:e,"0")}return t===!1?String(r):r},et=(r,e)=>{let t=r[0]==="-"?"-":"";for(t&&(r=r.slice(1),e--);r.length<e;)r="0"+r;return t?"-"+r:r},ka=(r,e,t)=>{r.negatives.sort((a,u)=>a<u?-1:a>u?1:0),r.positives.sort((a,u)=>a<u?-1:a>u?1:0);let n=e.capture?"":"?:",i="",s="",o;return r.positives.length&&(i=r.positives.map(a=>et(String(a),t)).join("|")),r.negatives.length&&(s=`-(${n}${r.negatives.map(a=>et(String(a),t)).join("|")})`),i&&s?o=`${i}|${s}`:o=i||s,e.wrap?`(${n}${o})`:o},ui=(r,e,t,n)=>{if(t)return ai(r,e,{wrap:!1,...n});let i=String.fromCharCode(r);if(r===e)return i;let s=String.fromCharCode(e);return`[${i}-${s}]`},ci=(r,e,t)=>{if(Array.isArray(r)){let n=t.wrap===!0,i=t.capture?"":"?:";return n?`(${i}${r.join("|")})`:r.join("|")}return ai(r,e,t)},li=(...r)=>new RangeError("Invalid range arguments: "+Ra.inspect(...r)),hi=(r,e,t)=>{if(t.strictRanges===!0)throw li([r,e]);return[]},Ha=(r,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${r}" to be a number`);return[]},$a=(r,e,t=1,n={})=>{let i=Number(r),s=Number(e);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw li([r,e]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(r),u=String(e),f=String(t);t=Math.max(Math.abs(t),1);let c=Dt(a)||Dt(u)||Dt(f),h=c?Math.max(a.length,u.length,f.length):0,l=c===!1&&Pa(r,e,n)===!1,E=n.transform||wa(l);if(n.toRegex&&t===1)return ui(et(r,h),et(e,h),!0,n);let g={negatives:[],positives:[]},S=G=>g[G<0?"negatives":"positives"].push(Math.abs(G)),C=[],R=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&t>1?S(i):C.push(Ta(E(i,R),h,l)),i=o?i-t:i+t,R++;return n.toRegex===!0?t>1?ka(g,n,h):ci(C,null,{wrap:!1,...n}):C},La=(r,e,t=1,n={})=>{if(!Ie(r)&&r.length>1||!Ie(e)&&e.length>1)return hi(r,e,n);let i=n.transform||(l=>String.fromCharCode(l)),s=`${r}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=s>o,u=Math.min(s,o),f=Math.max(s,o);if(n.toRegex&&t===1)return ui(u,f,!1,n);let c=[],h=0;for(;a?s>=o:s<=o;)c.push(i(s,h)),s=a?s-t:s+t,h++;return n.toRegex===!0?ci(c,null,{wrap:!1,options:n}):c},ze=(r,e,t,n={})=>{if(e==null&&Lt(r))return[r];if(!Lt(r)||!Lt(e))return hi(r,e,n);if(typeof t=="function")return ze(r,e,1,{transform:t});if(oi(t))return ze(r,e,0,t);let i={...n};return i.capture===!0&&(i.wrap=!0),t=t||i.step||1,Ie(t)?Ie(r)&&Ie(e)?$a(r,e,t,i):La(r,e,Math.max(Math.abs(t),1),i):t!=null&&!oi(t)?Ha(t,i):ze(r,e,1,t)};fi.exports=ze});var mi=_((Bh,di)=>{"use strict";var Da=Nt(),pi=Je(),Na=(r,e={})=>{let t=(n,i={})=>{let s=pi.isInvalidBrace(i),o=n.invalid===!0&&e.escapeInvalid===!0,a=s===!0||o===!0,u=e.escapeInvalid===!0?"\\":"",f="";if(n.isOpen===!0)return u+n.value;if(n.isClose===!0)return console.log("node.isClose",u,n.value),u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let c=pi.reduce(n.nodes),h=Da(...c,{...e,wrap:!1,toRegex:!0,strictZeros:!0});if(h.length!==0)return c.length>1&&h.length>1?`(${h})`:h}if(n.nodes)for(let c of n.nodes)f+=t(c,n);return f};return t(r)};di.exports=Na});var yi=_((jh,_i)=>{"use strict";var Ma=Nt(),gi=Ze(),He=Je(),we=(r="",e="",t=!1)=>{let n=[];if(r=[].concat(r),e=[].concat(e),!e.length)return r;if(!r.length)return t?He.flatten(e).map(i=>`{${i}}`):e;for(let i of r)if(Array.isArray(i))for(let s of i)n.push(we(s,e,t));else for(let s of e)t===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?we(i,s,t):i+s);return He.flatten(n)},Ia=(r,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(we(a.pop(),gi(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(we(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let h=He.reduce(i.nodes);if(He.exceedsLimit(...h,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=Ma(...h,e);l.length===0&&(l=gi(i,e)),a.push(we(a.pop(),l)),i.nodes=[];return}let u=He.encloseBrace(i),f=i.queue,c=i;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,f=c.queue;for(let h=0;h<i.nodes.length;h++){let l=i.nodes[h];if(l.type==="comma"&&i.type==="brace"){h===1&&f.push(""),f.push("");continue}if(l.type==="close"){a.push(we(a.pop(),f,u));continue}if(l.value&&l.type!=="open"){f.push(we(f.pop(),l.value));continue}l.nodes&&n(l,i)}return f};return He.flatten(n(r))};_i.exports=Ia});var Ai=_((Vh,Si)=>{"use strict";Si.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Ci=_((Wh,Oi)=>{"use strict";var qa=Ze(),{MAX_LENGTH:bi,CHAR_BACKSLASH:Mt,CHAR_BACKTICK:Fa,CHAR_COMMA:Ba,CHAR_DOT:ja,CHAR_LEFT_PARENTHESES:Va,CHAR_RIGHT_PARENTHESES:Wa,CHAR_LEFT_CURLY_BRACE:Ga,CHAR_RIGHT_CURLY_BRACE:Ua,CHAR_LEFT_SQUARE_BRACKET:Ei,CHAR_RIGHT_SQUARE_BRACKET:vi,CHAR_DOUBLE_QUOTE:Ka,CHAR_SINGLE_QUOTE:Ya,CHAR_NO_BREAK_SPACE:Qa,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Xa}=Ai(),Ja=(r,e={})=>{if(typeof r!="string")throw new TypeError("Expected a string");let t=e||{},n=typeof t.maxLength=="number"?Math.min(bi,t.maxLength):bi;if(r.length>n)throw new SyntaxError(`Input length (${r.length}), exceeds max characters (${n})`);let i={type:"root",input:r,nodes:[]},s=[i],o=i,a=i,u=0,f=r.length,c=0,h=0,l,E=()=>r[c++],g=S=>{if(S.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&S.type==="text"){a.value+=S.value;return}return o.nodes.push(S),S.parent=o,S.prev=a,a=S,S};for(g({type:"bos"});c<f;)if(o=s[s.length-1],l=E(),!(l===Xa||l===Qa)){if(l===Mt){g({type:"text",value:(e.keepEscaping?l:"")+E()});continue}if(l===vi){g({type:"text",value:"\\"+l});continue}if(l===Ei){u++;let S;for(;c<f&&(S=E());){if(l+=S,S===Ei){u++;continue}if(S===Mt){l+=E();continue}if(S===vi&&(u--,u===0))break}g({type:"text",value:l});continue}if(l===Va){o=g({type:"paren",nodes:[]}),s.push(o),g({type:"text",value:l});continue}if(l===Wa){if(o.type!=="paren"){g({type:"text",value:l});continue}o=s.pop(),g({type:"text",value:l}),o=s[s.length-1];continue}if(l===Ka||l===Ya||l===Fa){let S=l,C;for(e.keepQuotes!==!0&&(l="");c<f&&(C=E());){if(C===Mt){l+=C+E();continue}if(C===S){e.keepQuotes===!0&&(l+=C);break}l+=C}g({type:"text",value:l});continue}if(l===Ga){h++;let C={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:h,commas:0,ranges:0,nodes:[]};o=g(C),s.push(o),g({type:"open",value:l});continue}if(l===Ua){if(o.type!=="brace"){g({type:"text",value:l});continue}let S="close";o=s.pop(),o.close=!0,g({type:S,value:l}),h--,o=s[s.length-1];continue}if(l===Ba&&h>0){if(o.ranges>0){o.ranges=0;let S=o.nodes.shift();o.nodes=[S,{type:"text",value:qa(o)}]}g({type:"comma",value:l}),o.commas++;continue}if(l===ja&&h>0&&o.commas===0){let S=o.nodes;if(h===0||S.length===0){g({type:"text",value:l});continue}if(a.type==="dot"){if(o.range=[],a.value+=l,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){S.pop();let C=S[S.length-1];C.value+=a.value+l,a=C,o.ranges--;continue}g({type:"dot",value:l});continue}g({type:"text",value:l})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(R=>{R.nodes||(R.type==="open"&&(R.isOpen=!0),R.type==="close"&&(R.isClose=!0),R.nodes||(R.type="text"),R.invalid=!0)});let S=s[s.length-1],C=S.nodes.indexOf(o);S.nodes.splice(C,1,...o.nodes)}while(s.length>0);return g({type:"eos"}),i};Oi.exports=Ja});var wi=_((Gh,Ri)=>{"use strict";var xi=Ze(),Za=mi(),za=yi(),eu=Ci(),ee=(r,e={})=>{let t=[];if(Array.isArray(r))for(let n of r){let i=ee.create(n,e);Array.isArray(i)?t.push(...i):t.push(i)}else t=[].concat(ee.create(r,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};ee.parse=(r,e={})=>eu(r,e);ee.stringify=(r,e={})=>xi(typeof r=="string"?ee.parse(r,e):r,e);ee.compile=(r,e={})=>(typeof r=="string"&&(r=ee.parse(r,e)),Za(r,e));ee.expand=(r,e={})=>{typeof r=="string"&&(r=ee.parse(r,e));let t=za(r,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t};ee.create=(r,e={})=>r===""||r.length<3?[r]:e.expand!==!0?ee.compile(r,e):ee.expand(r,e);Ri.exports=ee});var qe=_((Uh,$i)=>{"use strict";var tu=$("path"),le="\\\\/",Pi=`[^${le}]`,de="\\.",ru="\\+",nu="\\?",tt="\\/",iu="(?=.)",Ti="[^/]",It=`(?:${tt}|$)`,ki=`(?:^|${tt})`,qt=`${de}{1,2}${It}`,su=`(?!${de})`,ou=`(?!${ki}${qt})`,au=`(?!${de}{0,1}${It})`,uu=`(?!${qt})`,cu=`[^.${tt}]`,lu=`${Ti}*?`,Hi={DOT_LITERAL:de,PLUS_LITERAL:ru,QMARK_LITERAL:nu,SLASH_LITERAL:tt,ONE_CHAR:iu,QMARK:Ti,END_ANCHOR:It,DOTS_SLASH:qt,NO_DOT:su,NO_DOTS:ou,NO_DOT_SLASH:au,NO_DOTS_SLASH:uu,QMARK_NO_DOT:cu,STAR:lu,START_ANCHOR:ki},hu={...Hi,SLASH_LITERAL:`[${le}]`,QMARK:Pi,STAR:`${Pi}*?`,DOTS_SLASH:`${de}{1,2}(?:[${le}]|$)`,NO_DOT:`(?!${de})`,NO_DOTS:`(?!(?:^|[${le}])${de}{1,2}(?:[${le}]|$))`,NO_DOT_SLASH:`(?!${de}{0,1}(?:[${le}]|$))`,NO_DOTS_SLASH:`(?!${de}{1,2}(?:[${le}]|$))`,QMARK_NO_DOT:`[^.${le}]`,START_ANCHOR:`(?:^|[${le}])`,END_ANCHOR:`(?:[${le}]|$)`},fu={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};$i.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:fu,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:tu.sep,extglobChars(r){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${r.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(r){return r===!0?hu:Hi}}});var Fe=_(J=>{"use strict";var pu=$("path"),du=process.platform==="win32",{REGEX_BACKSLASH:mu,REGEX_REMOVE_BACKSLASH:gu,REGEX_SPECIAL_CHARS:_u,REGEX_SPECIAL_CHARS_GLOBAL:yu}=qe();J.isObject=r=>r!==null&&typeof r=="object"&&!Array.isArray(r);J.hasRegexChars=r=>_u.test(r);J.isRegexChar=r=>r.length===1&&J.hasRegexChars(r);J.escapeRegex=r=>r.replace(yu,"\\$1");J.toPosixSlashes=r=>r.replace(mu,"/");J.removeBackslashes=r=>r.replace(gu,e=>e==="\\"?"":e);J.supportsLookbehinds=()=>{let r=process.version.slice(1).split(".").map(Number);return r.length===3&&r[0]>=9||r[0]===8&&r[1]>=10};J.isWindows=r=>r&&typeof r.windows=="boolean"?r.windows:du===!0||pu.sep==="\\";J.escapeLast=(r,e,t)=>{let n=r.lastIndexOf(e,t);return n===-1?r:r[n-1]==="\\"?J.escapeLast(r,e,n-1):`${r.slice(0,n)}\\${r.slice(n)}`};J.removePrefix=(r,e={})=>{let t=r;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};J.wrapOutput=(r,e={},t={})=>{let n=t.contains?"":"^",i=t.contains?"":"$",s=`${n}(?:${r})${i}`;return e.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Bi=_((Yh,Fi)=>{"use strict";var Li=Fe(),{CHAR_ASTERISK:Ft,CHAR_AT:Su,CHAR_BACKWARD_SLASH:Be,CHAR_COMMA:Au,CHAR_DOT:Bt,CHAR_EXCLAMATION_MARK:jt,CHAR_FORWARD_SLASH:qi,CHAR_LEFT_CURLY_BRACE:Vt,CHAR_LEFT_PARENTHESES:Wt,CHAR_LEFT_SQUARE_BRACKET:bu,CHAR_PLUS:Eu,CHAR_QUESTION_MARK:Di,CHAR_RIGHT_CURLY_BRACE:vu,CHAR_RIGHT_PARENTHESES:Ni,CHAR_RIGHT_SQUARE_BRACKET:Ou}=qe(),Mi=r=>r===qi||r===Be,Ii=r=>{r.isPrefix!==!0&&(r.depth=r.isGlobstar?1/0:1)},Cu=(r,e)=>{let t=e||{},n=r.length-1,i=t.parts===!0||t.scanToEnd===!0,s=[],o=[],a=[],u=r,f=-1,c=0,h=0,l=!1,E=!1,g=!1,S=!1,C=!1,R=!1,G=!1,M=!1,re=!1,W=!1,O=0,P,A,T={value:"",depth:0,isGlob:!1},j=()=>f>=n,m=()=>u.charCodeAt(f+1),I=()=>(P=A,u.charCodeAt(++f));for(;f<n;){A=I();let Y;if(A===Be){G=T.backslashes=!0,A=I(),A===Vt&&(R=!0);continue}if(R===!0||A===Vt){for(O++;j()!==!0&&(A=I());){if(A===Be){G=T.backslashes=!0,I();continue}if(A===Vt){O++;continue}if(R!==!0&&A===Bt&&(A=I())===Bt){if(l=T.isBrace=!0,g=T.isGlob=!0,W=!0,i===!0)continue;break}if(R!==!0&&A===Au){if(l=T.isBrace=!0,g=T.isGlob=!0,W=!0,i===!0)continue;break}if(A===vu&&(O--,O===0)){R=!1,l=T.isBrace=!0,W=!0;break}}if(i===!0)continue;break}if(A===qi){if(s.push(f),o.push(T),T={value:"",depth:0,isGlob:!1},W===!0)continue;if(P===Bt&&f===c+1){c+=2;continue}h=f+1;continue}if(t.noext!==!0&&(A===Eu||A===Su||A===Ft||A===Di||A===jt)===!0&&m()===Wt){if(g=T.isGlob=!0,S=T.isExtglob=!0,W=!0,A===jt&&f===c&&(re=!0),i===!0){for(;j()!==!0&&(A=I());){if(A===Be){G=T.backslashes=!0,A=I();continue}if(A===Ni){g=T.isGlob=!0,W=!0;break}}continue}break}if(A===Ft){if(P===Ft&&(C=T.isGlobstar=!0),g=T.isGlob=!0,W=!0,i===!0)continue;break}if(A===Di){if(g=T.isGlob=!0,W=!0,i===!0)continue;break}if(A===bu){for(;j()!==!0&&(Y=I());){if(Y===Be){G=T.backslashes=!0,I();continue}if(Y===Ou){E=T.isBracket=!0,g=T.isGlob=!0,W=!0;break}}if(i===!0)continue;break}if(t.nonegate!==!0&&A===jt&&f===c){M=T.negated=!0,c++;continue}if(t.noparen!==!0&&A===Wt){if(g=T.isGlob=!0,i===!0){for(;j()!==!0&&(A=I());){if(A===Wt){G=T.backslashes=!0,A=I();continue}if(A===Ni){W=!0;break}}continue}break}if(g===!0){if(W=!0,i===!0)continue;break}}t.noext===!0&&(S=!1,g=!1);let L=u,ye="",p="";c>0&&(ye=u.slice(0,c),u=u.slice(c),h-=c),L&&g===!0&&h>0?(L=u.slice(0,h),p=u.slice(h)):g===!0?(L="",p=u):L=u,L&&L!==""&&L!=="/"&&L!==u&&Mi(L.charCodeAt(L.length-1))&&(L=L.slice(0,-1)),t.unescape===!0&&(p&&(p=Li.removeBackslashes(p)),L&&G===!0&&(L=Li.removeBackslashes(L)));let d={prefix:ye,input:r,start:c,base:L,glob:p,isBrace:l,isBracket:E,isGlob:g,isExtglob:S,isGlobstar:C,negated:M,negatedExtglob:re};if(t.tokens===!0&&(d.maxDepth=0,Mi(A)||o.push(T),d.tokens=o),t.parts===!0||t.tokens===!0){let Y;for(let k=0;k<s.length;k++){let ue=Y?Y+1:c,ce=s[k],z=r.slice(ue,ce);t.tokens&&(k===0&&c!==0?(o[k].isPrefix=!0,o[k].value=ye):o[k].value=z,Ii(o[k]),d.maxDepth+=o[k].depth),(k!==0||z!=="")&&a.push(z),Y=ce}if(Y&&Y+1<r.length){let k=r.slice(Y+1);a.push(k),t.tokens&&(o[o.length-1].value=k,Ii(o[o.length-1]),d.maxDepth+=o[o.length-1].depth)}d.slashes=s,d.parts=a}return d};Fi.exports=Cu});var Wi=_((Qh,Vi)=>{"use strict";var rt=qe(),te=Fe(),{MAX_LENGTH:nt,POSIX_REGEX_SOURCE:xu,REGEX_NON_SPECIAL_CHARS:Ru,REGEX_SPECIAL_CHARS_BACKREF:wu,REPLACEMENTS:ji}=rt,Pu=(r,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...r,e);r.sort();let t=`[${r.join("-")}]`;try{new RegExp(t)}catch{return r.map(i=>te.escapeRegex(i)).join("..")}return t},$e=(r,e)=>`Missing ${r}: "${e}" - use "\\\\${e}" to match literal characters`,Gt=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");r=ji[r]||r;let t={...e},n=typeof t.maxLength=="number"?Math.min(nt,t.maxLength):nt,i=r.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:t.prepend||""},o=[s],a=t.capture?"":"?:",u=te.isWindows(e),f=rt.globChars(u),c=rt.extglobChars(f),{DOT_LITERAL:h,PLUS_LITERAL:l,SLASH_LITERAL:E,ONE_CHAR:g,DOTS_SLASH:S,NO_DOT:C,NO_DOT_SLASH:R,NO_DOTS_SLASH:G,QMARK:M,QMARK_NO_DOT:re,STAR:W,START_ANCHOR:O}=f,P=b=>`(${a}(?:(?!${O}${b.dot?S:h}).)*?)`,A=t.dot?"":C,T=t.dot?M:re,j=t.bash===!0?P(t):W;t.capture&&(j=`(${j})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let m={input:r,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};r=te.removePrefix(r,m),i=r.length;let I=[],L=[],ye=[],p=s,d,Y=()=>m.index===i-1,k=m.peek=(b=1)=>r[m.index+b],ue=m.advance=()=>r[++m.index]||"",ce=()=>r.slice(m.index+1),z=(b="",D=0)=>{m.consumed+=b,m.index+=D},Ge=b=>{m.output+=b.output!=null?b.output:b.value,z(b.value)},jo=()=>{let b=1;for(;k()==="!"&&(k(2)!=="("||k(3)==="?");)ue(),m.start++,b++;return b%2===0?!1:(m.negated=!0,m.start++,!0)},Ue=b=>{m[b]++,ye.push(b)},xe=b=>{m[b]--,ye.pop()},w=b=>{if(p.type==="globstar"){let D=m.braces>0&&(b.type==="comma"||b.type==="brace"),y=b.extglob===!0||I.length&&(b.type==="pipe"||b.type==="paren");b.type!=="slash"&&b.type!=="paren"&&!D&&!y&&(m.output=m.output.slice(0,-p.output.length),p.type="star",p.value="*",p.output=j,m.output+=p.output)}if(I.length&&b.type!=="paren"&&(I[I.length-1].inner+=b.value),(b.value||b.output)&&Ge(b),p&&p.type==="text"&&b.type==="text"){p.value+=b.value,p.output=(p.output||"")+b.value;return}b.prev=p,o.push(b),p=b},Ke=(b,D)=>{let y={...c[D],conditions:1,inner:""};y.prev=p,y.parens=m.parens,y.output=m.output;let x=(t.capture?"(":"")+y.open;Ue("parens"),w({type:b,value:D,output:m.output?"":g}),w({type:"paren",extglob:!0,value:ue(),output:x}),I.push(y)},Vo=b=>{let D=b.close+(t.capture?")":""),y;if(b.type==="negate"){let x=j;if(b.inner&&b.inner.length>1&&b.inner.includes("/")&&(x=P(t)),(x!==j||Y()||/^\)+$/.test(ce()))&&(D=b.close=`)$))${x}`),b.inner.includes("*")&&(y=ce())&&/^\.[^\\/.]+$/.test(y)){let q=Gt(y,{...e,fastpaths:!1}).output;D=b.close=`)${q})${x})`}b.prev.type==="bos"&&(m.negatedExtglob=!0)}w({type:"paren",extglob:!0,value:d,output:D}),xe("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(r)){let b=!1,D=r.replace(wu,(y,x,q,Q,V,wt)=>Q==="\\"?(b=!0,y):Q==="?"?x?x+Q+(V?M.repeat(V.length):""):wt===0?T+(V?M.repeat(V.length):""):M.repeat(q.length):Q==="."?h.repeat(q.length):Q==="*"?x?x+Q+(V?j:""):j:x?y:`\\${y}`);return b===!0&&(t.unescape===!0?D=D.replace(/\\/g,""):D=D.replace(/\\+/g,y=>y.length%2===0?"\\\\":y?"\\":"")),D===r&&t.contains===!0?(m.output=r,m):(m.output=te.wrapOutput(D,m,e),m)}for(;!Y();){if(d=ue(),d==="\0")continue;if(d==="\\"){let y=k();if(y==="/"&&t.bash!==!0||y==="."||y===";")continue;if(!y){d+="\\",w({type:"text",value:d});continue}let x=/^\\+/.exec(ce()),q=0;if(x&&x[0].length>2&&(q=x[0].length,m.index+=q,q%2!==0&&(d+="\\")),t.unescape===!0?d=ue():d+=ue(),m.brackets===0){w({type:"text",value:d});continue}}if(m.brackets>0&&(d!=="]"||p.value==="["||p.value==="[^")){if(t.posix!==!1&&d===":"){let y=p.value.slice(1);if(y.includes("[")&&(p.posix=!0,y.includes(":"))){let x=p.value.lastIndexOf("["),q=p.value.slice(0,x),Q=p.value.slice(x+2),V=xu[Q];if(V){p.value=q+V,m.backtrack=!0,ue(),!s.output&&o.indexOf(p)===1&&(s.output=g);continue}}}(d==="["&&k()!==":"||d==="-"&&k()==="]")&&(d=`\\${d}`),d==="]"&&(p.value==="["||p.value==="[^")&&(d=`\\${d}`),t.posix===!0&&d==="!"&&p.value==="["&&(d="^"),p.value+=d,Ge({value:d});continue}if(m.quotes===1&&d!=='"'){d=te.escapeRegex(d),p.value+=d,Ge({value:d});continue}if(d==='"'){m.quotes=m.quotes===1?0:1,t.keepQuotes===!0&&w({type:"text",value:d});continue}if(d==="("){Ue("parens"),w({type:"paren",value:d});continue}if(d===")"){if(m.parens===0&&t.strictBrackets===!0)throw new SyntaxError($e("opening","("));let y=I[I.length-1];if(y&&m.parens===y.parens+1){Vo(I.pop());continue}w({type:"paren",value:d,output:m.parens?")":"\\)"}),xe("parens");continue}if(d==="["){if(t.nobracket===!0||!ce().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError($e("closing","]"));d=`\\${d}`}else Ue("brackets");w({type:"bracket",value:d});continue}if(d==="]"){if(t.nobracket===!0||p&&p.type==="bracket"&&p.value.length===1){w({type:"text",value:d,output:`\\${d}`});continue}if(m.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError($e("opening","["));w({type:"text",value:d,output:`\\${d}`});continue}xe("brackets");let y=p.value.slice(1);if(p.posix!==!0&&y[0]==="^"&&!y.includes("/")&&(d=`/${d}`),p.value+=d,Ge({value:d}),t.literalBrackets===!1||te.hasRegexChars(y))continue;let x=te.escapeRegex(p.value);if(m.output=m.output.slice(0,-p.value.length),t.literalBrackets===!0){m.output+=x,p.value=x;continue}p.value=`(${a}${x}|${p.value})`,m.output+=p.value;continue}if(d==="{"&&t.nobrace!==!0){Ue("braces");let y={type:"brace",value:d,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};L.push(y),w(y);continue}if(d==="}"){let y=L[L.length-1];if(t.nobrace===!0||!y){w({type:"text",value:d,output:d});continue}let x=")";if(y.dots===!0){let q=o.slice(),Q=[];for(let V=q.length-1;V>=0&&(o.pop(),q[V].type!=="brace");V--)q[V].type!=="dots"&&Q.unshift(q[V].value);x=Pu(Q,t),m.backtrack=!0}if(y.comma!==!0&&y.dots!==!0){let q=m.output.slice(0,y.outputIndex),Q=m.tokens.slice(y.tokensIndex);y.value=y.output="\\{",d=x="\\}",m.output=q;for(let V of Q)m.output+=V.output||V.value}w({type:"brace",value:d,output:x}),xe("braces"),L.pop();continue}if(d==="|"){I.length>0&&I[I.length-1].conditions++,w({type:"text",value:d});continue}if(d===","){let y=d,x=L[L.length-1];x&&ye[ye.length-1]==="braces"&&(x.comma=!0,y="|"),w({type:"comma",value:d,output:y});continue}if(d==="/"){if(p.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",o.pop(),p=s;continue}w({type:"slash",value:d,output:E});continue}if(d==="."){if(m.braces>0&&p.type==="dot"){p.value==="."&&(p.output=h);let y=L[L.length-1];p.type="dots",p.output+=d,p.value+=d,y.dots=!0;continue}if(m.braces+m.parens===0&&p.type!=="bos"&&p.type!=="slash"){w({type:"text",value:d,output:h});continue}w({type:"dot",value:d,output:h});continue}if(d==="?"){if(!(p&&p.value==="(")&&t.noextglob!==!0&&k()==="("&&k(2)!=="?"){Ke("qmark",d);continue}if(p&&p.type==="paren"){let x=k(),q=d;if(x==="<"&&!te.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(p.value==="("&&!/[!=<:]/.test(x)||x==="<"&&!/<([!=]|\w+>)/.test(ce()))&&(q=`\\${d}`),w({type:"text",value:d,output:q});continue}if(t.dot!==!0&&(p.type==="slash"||p.type==="bos")){w({type:"qmark",value:d,output:re});continue}w({type:"qmark",value:d,output:M});continue}if(d==="!"){if(t.noextglob!==!0&&k()==="("&&(k(2)!=="?"||!/[!=<:]/.test(k(3)))){Ke("negate",d);continue}if(t.nonegate!==!0&&m.index===0){jo();continue}}if(d==="+"){if(t.noextglob!==!0&&k()==="("&&k(2)!=="?"){Ke("plus",d);continue}if(p&&p.value==="("||t.regex===!1){w({type:"plus",value:d,output:l});continue}if(p&&(p.type==="bracket"||p.type==="paren"||p.type==="brace")||m.parens>0){w({type:"plus",value:d});continue}w({type:"plus",value:l});continue}if(d==="@"){if(t.noextglob!==!0&&k()==="("&&k(2)!=="?"){w({type:"at",extglob:!0,value:d,output:""});continue}w({type:"text",value:d});continue}if(d!=="*"){(d==="$"||d==="^")&&(d=`\\${d}`);let y=Ru.exec(ce());y&&(d+=y[0],m.index+=y[0].length),w({type:"text",value:d});continue}if(p&&(p.type==="globstar"||p.star===!0)){p.type="star",p.star=!0,p.value+=d,p.output=j,m.backtrack=!0,m.globstar=!0,z(d);continue}let b=ce();if(t.noextglob!==!0&&/^\([^?]/.test(b)){Ke("star",d);continue}if(p.type==="star"){if(t.noglobstar===!0){z(d);continue}let y=p.prev,x=y.prev,q=y.type==="slash"||y.type==="bos",Q=x&&(x.type==="star"||x.type==="globstar");if(t.bash===!0&&(!q||b[0]&&b[0]!=="/")){w({type:"star",value:d,output:""});continue}let V=m.braces>0&&(y.type==="comma"||y.type==="brace"),wt=I.length&&(y.type==="pipe"||y.type==="paren");if(!q&&y.type!=="paren"&&!V&&!wt){w({type:"star",value:d,output:""});continue}for(;b.slice(0,3)==="/**";){let Ye=r[m.index+4];if(Ye&&Ye!=="/")break;b=b.slice(3),z("/**",3)}if(y.type==="bos"&&Y()){p.type="globstar",p.value+=d,p.output=P(t),m.output=p.output,m.globstar=!0,z(d);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&!Q&&Y()){m.output=m.output.slice(0,-(y.output+p.output).length),y.output=`(?:${y.output}`,p.type="globstar",p.output=P(t)+(t.strictSlashes?")":"|$)"),p.value+=d,m.globstar=!0,m.output+=y.output+p.output,z(d);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&b[0]==="/"){let Ye=b[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(y.output+p.output).length),y.output=`(?:${y.output}`,p.type="globstar",p.output=`${P(t)}${E}|${E}${Ye})`,p.value+=d,m.output+=y.output+p.output,m.globstar=!0,z(d+ue()),w({type:"slash",value:"/",output:""});continue}if(y.type==="bos"&&b[0]==="/"){p.type="globstar",p.value+=d,p.output=`(?:^|${E}|${P(t)}${E})`,m.output=p.output,m.globstar=!0,z(d+ue()),w({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-p.output.length),p.type="globstar",p.output=P(t),p.value+=d,m.output+=p.output,m.globstar=!0,z(d);continue}let D={type:"star",value:d,output:j};if(t.bash===!0){D.output=".*?",(p.type==="bos"||p.type==="slash")&&(D.output=A+D.output),w(D);continue}if(p&&(p.type==="bracket"||p.type==="paren")&&t.regex===!0){D.output=d,w(D);continue}(m.index===m.start||p.type==="slash"||p.type==="dot")&&(p.type==="dot"?(m.output+=R,p.output+=R):t.dot===!0?(m.output+=G,p.output+=G):(m.output+=A,p.output+=A),k()!=="*"&&(m.output+=g,p.output+=g)),w(D)}for(;m.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError($e("closing","]"));m.output=te.escapeLast(m.output,"["),xe("brackets")}for(;m.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError($e("closing",")"));m.output=te.escapeLast(m.output,"("),xe("parens")}for(;m.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError($e("closing","}"));m.output=te.escapeLast(m.output,"{"),xe("braces")}if(t.strictSlashes!==!0&&(p.type==="star"||p.type==="bracket")&&w({type:"maybe_slash",value:"",output:`${E}?`}),m.backtrack===!0){m.output="";for(let b of m.tokens)m.output+=b.output!=null?b.output:b.value,b.suffix&&(m.output+=b.suffix)}return m};Gt.fastpaths=(r,e)=>{let t={...e},n=typeof t.maxLength=="number"?Math.min(nt,t.maxLength):nt,i=r.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);r=ji[r]||r;let s=te.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:f,NO_DOT:c,NO_DOTS:h,NO_DOTS_SLASH:l,STAR:E,START_ANCHOR:g}=rt.globChars(s),S=t.dot?h:c,C=t.dot?l:c,R=t.capture?"":"?:",G={negated:!1,prefix:""},M=t.bash===!0?".*?":E;t.capture&&(M=`(${M})`);let re=A=>A.noglobstar===!0?M:`(${R}(?:(?!${g}${A.dot?f:o}).)*?)`,W=A=>{switch(A){case"*":return`${S}${u}${M}`;case".*":return`${o}${u}${M}`;case"*.*":return`${S}${M}${o}${u}${M}`;case"*/*":return`${S}${M}${a}${u}${C}${M}`;case"**":return S+re(t);case"**/*":return`(?:${S}${re(t)}${a})?${C}${u}${M}`;case"**/*.*":return`(?:${S}${re(t)}${a})?${C}${M}${o}${u}${M}`;case"**/.*":return`(?:${S}${re(t)}${a})?${o}${u}${M}`;default:{let T=/^(.*?)\.(\w+)$/.exec(A);if(!T)return;let j=W(T[1]);return j?j+o+T[2]:void 0}}},O=te.removePrefix(r,G),P=W(O);return P&&t.strictSlashes!==!0&&(P+=`${a}?`),P};Vi.exports=Gt});var Ui=_((Xh,Gi)=>{"use strict";var Tu=$("path"),ku=Bi(),Ut=Wi(),Kt=Fe(),Hu=qe(),$u=r=>r&&typeof r=="object"&&!Array.isArray(r),F=(r,e,t=!1)=>{if(Array.isArray(r)){let c=r.map(l=>F(l,e,t));return l=>{for(let E of c){let g=E(l);if(g)return g}return!1}}let n=$u(r)&&r.tokens&&r.input;if(r===""||typeof r!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},s=Kt.isWindows(e),o=n?F.compileRe(r,e):F.makeRe(r,e,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let c={...e,ignore:null,onMatch:null,onResult:null};u=F(i.ignore,c,t)}let f=(c,h=!1)=>{let{isMatch:l,match:E,output:g}=F.test(c,o,e,{glob:r,posix:s}),S={glob:r,state:a,regex:o,posix:s,input:c,output:g,match:E,isMatch:l};return typeof i.onResult=="function"&&i.onResult(S),l===!1?(S.isMatch=!1,h?S:!1):u(c)?(typeof i.onIgnore=="function"&&i.onIgnore(S),S.isMatch=!1,h?S:!1):(typeof i.onMatch=="function"&&i.onMatch(S),h?S:!0)};return t&&(f.state=a),f};F.test=(r,e,t,{glob:n,posix:i}={})=>{if(typeof r!="string")throw new TypeError("Expected input to be a string");if(r==="")return{isMatch:!1,output:""};let s=t||{},o=s.format||(i?Kt.toPosixSlashes:null),a=r===n,u=a&&o?o(r):r;return a===!1&&(u=o?o(r):r,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=F.matchBase(r,e,t,i):a=e.exec(u)),{isMatch:!!a,match:a,output:u}};F.matchBase=(r,e,t,n=Kt.isWindows(t))=>(e instanceof RegExp?e:F.makeRe(e,t)).test(Tu.basename(r));F.isMatch=(r,e,t)=>F(e,t)(r);F.parse=(r,e)=>Array.isArray(r)?r.map(t=>F.parse(t,e)):Ut(r,{...e,fastpaths:!1});F.scan=(r,e)=>ku(r,e);F.compileRe=(r,e,t=!1,n=!1)=>{if(t===!0)return r.output;let i=e||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${r.output})${o}`;r&&r.negated===!0&&(a=`^(?!${a}).*$`);let u=F.toRegex(a,e);return n===!0&&(u.state=r),u};F.makeRe=(r,e={},t=!1,n=!1)=>{if(!r||typeof r!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(r[0]==="."||r[0]==="*")&&(i.output=Ut.fastpaths(r,e)),i.output||(i=Ut(r,e)),F.compileRe(i,e,t,n)};F.toRegex=(r,e)=>{try{let t=e||{};return new RegExp(r,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};F.constants=Hu;Gi.exports=F});var Yi=_((Jh,Ki)=>{"use strict";Ki.exports=Ui()});var es=_((Zh,zi)=>{"use strict";var Xi=$("util"),Ji=wi(),he=Yi(),Yt=Fe(),Qi=r=>r===""||r==="./",Zi=r=>{let e=r.indexOf("{");return e>-1&&r.indexOf("}",e)>-1},N=(r,e,t)=>{e=[].concat(e),r=[].concat(r);let n=new Set,i=new Set,s=new Set,o=0,a=c=>{s.add(c.output),t&&t.onResult&&t.onResult(c)};for(let c=0;c<e.length;c++){let h=he(String(e[c]),{...t,onResult:a},!0),l=h.state.negated||h.state.negatedExtglob;l&&o++;for(let E of r){let g=h(E,!0);(l?!g.isMatch:g.isMatch)&&(l?n.add(g.output):(n.delete(g.output),i.add(g.output)))}}let f=(o===e.length?[...s]:[...i]).filter(c=>!n.has(c));if(t&&f.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?e.map(c=>c.replace(/\\/g,"")):e}return f};N.match=N;N.matcher=(r,e)=>he(r,e);N.isMatch=(r,e,t)=>he(e,t)(r);N.any=N.isMatch;N.not=(r,e,t={})=>{e=[].concat(e).map(String);let n=new Set,i=[],s=a=>{t.onResult&&t.onResult(a),i.push(a.output)},o=new Set(N(r,e,{...t,onResult:s}));for(let a of i)o.has(a)||n.add(a);return[...n]};N.contains=(r,e,t)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${Xi.inspect(r)}"`);if(Array.isArray(e))return e.some(n=>N.contains(r,n,t));if(typeof e=="string"){if(Qi(r)||Qi(e))return!1;if(r.includes(e)||r.startsWith("./")&&r.slice(2).includes(e))return!0}return N.isMatch(r,e,{...t,contains:!0})};N.matchKeys=(r,e,t)=>{if(!Yt.isObject(r))throw new TypeError("Expected the first argument to be an object");let n=N(Object.keys(r),e,t),i={};for(let s of n)i[s]=r[s];return i};N.some=(r,e,t)=>{let n=[].concat(r);for(let i of[].concat(e)){let s=he(String(i),t);if(n.some(o=>s(o)))return!0}return!1};N.every=(r,e,t)=>{let n=[].concat(r);for(let i of[].concat(e)){let s=he(String(i),t);if(!n.every(o=>s(o)))return!1}return!0};N.all=(r,e,t)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${Xi.inspect(r)}"`);return[].concat(e).every(n=>he(n,t)(r))};N.capture=(r,e,t)=>{let n=Yt.isWindows(t),s=he.makeRe(String(r),{...t,capture:!0}).exec(n?Yt.toPosixSlashes(e):e);if(s)return s.slice(1).map(o=>o===void 0?"":o)};N.makeRe=(...r)=>he.makeRe(...r);N.scan=(...r)=>he.scan(...r);N.parse=(r,e)=>{let t=[];for(let n of[].concat(r||[]))for(let i of Ji(String(n),e))t.push(he.parse(i,e));return t};N.braces=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!Zi(r)?[r]:Ji(r,e)};N.braceExpand=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");return N.braces(r,{...e,expand:!0})};N.hasBraces=Zi;zi.exports=N});var ls=_(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.isAbsolute=v.partitionAbsoluteAndRelative=v.removeDuplicateSlashes=v.matchAny=v.convertPatternsToRe=v.makeRe=v.getPatternParts=v.expandBraceExpansion=v.expandPatternsWithBraceExpansion=v.isAffectDepthOfReadingPattern=v.endsWithSlashGlobStar=v.hasGlobStar=v.getBaseDirectory=v.isPatternRelatedToParentDirectory=v.getPatternsOutsideCurrentDirectory=v.getPatternsInsideCurrentDirectory=v.getPositivePatterns=v.getNegativePatterns=v.isPositivePattern=v.isNegativePattern=v.convertToNegativePattern=v.convertToPositivePattern=v.isDynamicPattern=v.isStaticPattern=void 0;var ts=$("path"),Lu=Un(),Qt=es(),rs="**",Du="\\",Nu=/[*?]|^!/,Mu=/\[[^[]*]/,Iu=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,qu=/[!*+?@]\([^(]*\)/,Fu=/,|\.\./,Bu=/(?!^)\/{2,}/g;function ns(r,e={}){return!is(r,e)}v.isStaticPattern=ns;function is(r,e={}){return r===""?!1:!!(e.caseSensitiveMatch===!1||r.includes(Du)||Nu.test(r)||Mu.test(r)||Iu.test(r)||e.extglob!==!1&&qu.test(r)||e.braceExpansion!==!1&&ju(r))}v.isDynamicPattern=is;function ju(r){let e=r.indexOf("{");if(e===-1)return!1;let t=r.indexOf("}",e+1);if(t===-1)return!1;let n=r.slice(e,t);return Fu.test(n)}function Vu(r){return it(r)?r.slice(1):r}v.convertToPositivePattern=Vu;function Wu(r){return"!"+r}v.convertToNegativePattern=Wu;function it(r){return r.startsWith("!")&&r[1]!=="("}v.isNegativePattern=it;function ss(r){return!it(r)}v.isPositivePattern=ss;function Gu(r){return r.filter(it)}v.getNegativePatterns=Gu;function Uu(r){return r.filter(ss)}v.getPositivePatterns=Uu;function Ku(r){return r.filter(e=>!Xt(e))}v.getPatternsInsideCurrentDirectory=Ku;function Yu(r){return r.filter(Xt)}v.getPatternsOutsideCurrentDirectory=Yu;function Xt(r){return r.startsWith("..")||r.startsWith("./..")}v.isPatternRelatedToParentDirectory=Xt;function Qu(r){return Lu(r,{flipBackslashes:!1})}v.getBaseDirectory=Qu;function Xu(r){return r.includes(rs)}v.hasGlobStar=Xu;function os(r){return r.endsWith("/"+rs)}v.endsWithSlashGlobStar=os;function Ju(r){let e=ts.basename(r);return os(r)||ns(e)}v.isAffectDepthOfReadingPattern=Ju;function Zu(r){return r.reduce((e,t)=>e.concat(as(t)),[])}v.expandPatternsWithBraceExpansion=Zu;function as(r){let e=Qt.braces(r,{expand:!0,nodupes:!0,keepEscaping:!0});return e.sort((t,n)=>t.length-n.length),e.filter(t=>t!=="")}v.expandBraceExpansion=as;function zu(r,e){let{parts:t}=Qt.scan(r,Object.assign(Object.assign({},e),{parts:!0}));return t.length===0&&(t=[r]),t[0].startsWith("/")&&(t[0]=t[0].slice(1),t.unshift("")),t}v.getPatternParts=zu;function us(r,e){return Qt.makeRe(r,e)}v.makeRe=us;function ec(r,e){return r.map(t=>us(t,e))}v.convertPatternsToRe=ec;function tc(r,e){return e.some(t=>t.test(r))}v.matchAny=tc;function rc(r){return r.replace(Bu,"/")}v.removeDuplicateSlashes=rc;function nc(r){let e=[],t=[];for(let n of r)cs(n)?e.push(n):t.push(n);return[e,t]}v.partitionAbsoluteAndRelative=nc;function cs(r){return ts.isAbsolute(r)}v.isAbsolute=cs});var ds=_((ef,ps)=>{"use strict";var ic=$("stream"),hs=ic.PassThrough,sc=Array.prototype.slice;ps.exports=oc;function oc(){let r=[],e=sc.call(arguments),t=!1,n=e[e.length-1];n&&!Array.isArray(n)&&n.pipe==null?e.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=hs(n);function a(){for(let c=0,h=arguments.length;c<h;c++)r.push(fs(arguments[c],n));return u(),this}function u(){if(t)return;t=!0;let c=r.shift();if(!c){process.nextTick(f);return}Array.isArray(c)||(c=[c]);let h=c.length+1;function l(){--h>0||(t=!1,u())}function E(g){function S(){g.removeListener("merge2UnpipeEnd",S),g.removeListener("end",S),s&&g.removeListener("error",C),l()}function C(R){o.emit("error",R)}if(g._readableState.endEmitted)return l();g.on("merge2UnpipeEnd",S),g.on("end",S),s&&g.on("error",C),g.pipe(o,{end:!1}),g.resume()}for(let g=0;g<c.length;g++)E(c[g]);l()}function f(){t=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(c){c.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function fs(r,e){if(Array.isArray(r))for(let t=0,n=r.length;t<n;t++)r[t]=fs(r[t],e);else{if(!r._readableState&&r.pipe&&(r=r.pipe(hs(e))),!r._readableState||!r.pause||!r.pipe)throw new Error("Only readable stream can be merged.");r.pause()}return r}});var gs=_(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.merge=void 0;var ac=ds();function uc(r){let e=ac(r);return r.forEach(t=>{t.once("error",n=>e.emit("error",n))}),e.once("close",()=>ms(r)),e.once("end",()=>ms(r)),e}st.merge=uc;function ms(r){r.forEach(e=>e.emit("close"))}});var _s=_(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.isEmpty=Le.isString=void 0;function cc(r){return typeof r=="string"}Le.isString=cc;function lc(r){return r===""}Le.isEmpty=lc});var me=_(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.string=U.stream=U.pattern=U.path=U.fs=U.errno=U.array=void 0;var hc=$n();U.array=hc;var fc=Ln();U.errno=fc;var pc=Dn();U.fs=pc;var dc=qn();U.path=dc;var mc=ls();U.pattern=mc;var gc=gs();U.stream=gc;var _c=_s();U.string=_c});var bs=_(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.convertPatternGroupToTask=K.convertPatternGroupsToTasks=K.groupPatternsByBaseDirectory=K.getNegativePatternsAsPositive=K.getPositivePatterns=K.convertPatternsToTasks=K.generate=void 0;var oe=me();function yc(r,e){let t=ys(r,e),n=ys(e.ignore,e),i=Ss(t),s=As(t,n),o=i.filter(c=>oe.pattern.isStaticPattern(c,e)),a=i.filter(c=>oe.pattern.isDynamicPattern(c,e)),u=Jt(o,s,!1),f=Jt(a,s,!0);return u.concat(f)}K.generate=yc;function ys(r,e){let t=r;return e.braceExpansion&&(t=oe.pattern.expandPatternsWithBraceExpansion(t)),e.baseNameMatch&&(t=t.map(n=>n.includes("/")?n:`**/${n}`)),t.map(n=>oe.pattern.removeDuplicateSlashes(n))}function Jt(r,e,t){let n=[],i=oe.pattern.getPatternsOutsideCurrentDirectory(r),s=oe.pattern.getPatternsInsideCurrentDirectory(r),o=Zt(i),a=Zt(s);return n.push(...zt(o,e,t)),"."in a?n.push(er(".",s,e,t)):n.push(...zt(a,e,t)),n}K.convertPatternsToTasks=Jt;function Ss(r){return oe.pattern.getPositivePatterns(r)}K.getPositivePatterns=Ss;function As(r,e){return oe.pattern.getNegativePatterns(r).concat(e).map(oe.pattern.convertToPositivePattern)}K.getNegativePatternsAsPositive=As;function Zt(r){let e={};return r.reduce((t,n)=>{let i=oe.pattern.getBaseDirectory(n);return i in t?t[i].push(n):t[i]=[n],t},e)}K.groupPatternsByBaseDirectory=Zt;function zt(r,e,t){return Object.keys(r).map(n=>er(n,r[n],e,t))}K.convertPatternGroupsToTasks=zt;function er(r,e,t,n){return{dynamic:n,positive:e,negative:t,base:r,patterns:[].concat(e,t.map(oe.pattern.convertToNegativePattern))}}K.convertPatternGroupToTask=er});var vs=_(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.read=void 0;function Sc(r,e,t){e.fs.lstat(r,(n,i)=>{if(n!==null){Es(t,n);return}if(!i.isSymbolicLink()||!e.followSymbolicLink){tr(t,i);return}e.fs.stat(r,(s,o)=>{if(s!==null){if(e.throwErrorOnBrokenSymbolicLink){Es(t,s);return}tr(t,i);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),tr(t,o)})})}ot.read=Sc;function Es(r,e){r(e)}function tr(r,e){r(null,e)}});var Os=_(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.read=void 0;function Ac(r,e){let t=e.fs.lstatSync(r);if(!t.isSymbolicLink()||!e.followSymbolicLink)return t;try{let n=e.fs.statSync(r);return e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!e.throwErrorOnBrokenSymbolicLink)return t;throw n}}at.read=Ac});var Cs=_(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.createFileSystemAdapter=Se.FILE_SYSTEM_ADAPTER=void 0;var ut=$("fs");Se.FILE_SYSTEM_ADAPTER={lstat:ut.lstat,stat:ut.stat,lstatSync:ut.lstatSync,statSync:ut.statSync};function bc(r){return r===void 0?Se.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Se.FILE_SYSTEM_ADAPTER),r)}Se.createFileSystemAdapter=bc});var xs=_(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});var Ec=Cs(),rr=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Ec.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return e??t}};nr.default=rr});var Pe=_(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.statSync=Ae.stat=Ae.Settings=void 0;var Rs=vs(),vc=Os(),ir=xs();Ae.Settings=ir.default;function Oc(r,e,t){if(typeof e=="function"){Rs.read(r,sr(),e);return}Rs.read(r,sr(e),t)}Ae.stat=Oc;function Cc(r,e){let t=sr(e);return vc.read(r,t)}Ae.statSync=Cc;function sr(r={}){return r instanceof ir.default?r:new ir.default(r)}});var Ts=_((hf,Ps)=>{"use strict";var ws;Ps.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):r=>(ws||(ws=Promise.resolve())).then(r).catch(e=>setTimeout(()=>{throw e},0))});var Hs=_((ff,ks)=>{"use strict";ks.exports=Rc;var xc=Ts();function Rc(r,e){let t,n,i,s=!0;Array.isArray(r)?(t=[],n=r.length):(i=Object.keys(r),t={},n=i.length);function o(u){function f(){e&&e(u,t),e=null}s?xc(f):f()}function a(u,f,c){t[u]=c,(--n===0||f)&&o(f)}n?i?i.forEach(function(u){r[u](function(f,c){a(u,f,c)})}):r.forEach(function(u,f){u(function(c,h){a(f,c,h)})}):o(null),s=!1}});var or=_(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var ct=process.versions.node.split(".");if(ct[0]===void 0||ct[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var $s=Number.parseInt(ct[0],10),wc=Number.parseInt(ct[1],10),Ls=10,Pc=10,Tc=$s>Ls,kc=$s===Ls&&wc>=Pc;lt.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Tc||kc});var Ds=_(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.createDirentFromStats=void 0;var ar=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};function Hc(r,e){return new ar(r,e)}ht.createDirentFromStats=Hc});var ur=_(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.fs=void 0;var $c=Ds();ft.fs=$c});var cr=_(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.joinPathSegments=void 0;function Lc(r,e,t){return r.endsWith(t)?r+e:r+t+e}pt.joinPathSegments=Lc});var Bs=_(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.readdir=be.readdirWithFileTypes=be.read=void 0;var Dc=Pe(),Ns=Hs(),Nc=or(),Ms=ur(),Is=cr();function Mc(r,e,t){if(!e.stats&&Nc.IS_SUPPORT_READDIR_WITH_FILE_TYPES){qs(r,e,t);return}Fs(r,e,t)}be.read=Mc;function qs(r,e,t){e.fs.readdir(r,{withFileTypes:!0},(n,i)=>{if(n!==null){dt(t,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:Is.joinPathSegments(r,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){lr(t,s);return}let o=s.map(a=>Ic(a,e));Ns(o,(a,u)=>{if(a!==null){dt(t,a);return}lr(t,u)})})}be.readdirWithFileTypes=qs;function Ic(r,e){return t=>{if(!r.dirent.isSymbolicLink()){t(null,r);return}e.fs.stat(r.path,(n,i)=>{if(n!==null){if(e.throwErrorOnBrokenSymbolicLink){t(n);return}t(null,r);return}r.dirent=Ms.fs.createDirentFromStats(r.name,i),t(null,r)})}}function Fs(r,e,t){e.fs.readdir(r,(n,i)=>{if(n!==null){dt(t,n);return}let s=i.map(o=>{let a=Is.joinPathSegments(r,o,e.pathSegmentSeparator);return u=>{Dc.stat(a,e.fsStatSettings,(f,c)=>{if(f!==null){u(f);return}let h={name:o,path:a,dirent:Ms.fs.createDirentFromStats(o,c)};e.stats&&(h.stats=c),u(null,h)})}});Ns(s,(o,a)=>{if(o!==null){dt(t,o);return}lr(t,a)})})}be.readdir=Fs;function dt(r,e){r(e)}function lr(r,e){r(null,e)}});var Us=_(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.readdir=Ee.readdirWithFileTypes=Ee.read=void 0;var qc=Pe(),Fc=or(),js=ur(),Vs=cr();function Bc(r,e){return!e.stats&&Fc.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Ws(r,e):Gs(r,e)}Ee.read=Bc;function Ws(r,e){return e.fs.readdirSync(r,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Vs.joinPathSegments(r,n.name,e.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let s=e.fs.statSync(i.path);i.dirent=js.fs.createDirentFromStats(i.name,s)}catch(s){if(e.throwErrorOnBrokenSymbolicLink)throw s}return i})}Ee.readdirWithFileTypes=Ws;function Gs(r,e){return e.fs.readdirSync(r).map(n=>{let i=Vs.joinPathSegments(r,n,e.pathSegmentSeparator),s=qc.statSync(i,e.fsStatSettings),o={name:n,path:i,dirent:js.fs.createDirentFromStats(n,s)};return e.stats&&(o.stats=s),o})}Ee.readdir=Gs});var Ks=_(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.createFileSystemAdapter=ve.FILE_SYSTEM_ADAPTER=void 0;var De=$("fs");ve.FILE_SYSTEM_ADAPTER={lstat:De.lstat,stat:De.stat,lstatSync:De.lstatSync,statSync:De.statSync,readdir:De.readdir,readdirSync:De.readdirSync};function jc(r){return r===void 0?ve.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},ve.FILE_SYSTEM_ADAPTER),r)}ve.createFileSystemAdapter=jc});var Ys=_(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});var Vc=$("path"),Wc=Pe(),Gc=Ks(),hr=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Gc.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Vc.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Wc.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}};fr.default=hr});var mt=_(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.Settings=Oe.scandirSync=Oe.scandir=void 0;var Qs=Bs(),Uc=Us(),pr=Ys();Oe.Settings=pr.default;function Kc(r,e,t){if(typeof e=="function"){Qs.read(r,dr(),e);return}Qs.read(r,dr(e),t)}Oe.scandir=Kc;function Yc(r,e){let t=dr(e);return Uc.read(r,t)}Oe.scandirSync=Yc;function dr(r={}){return r instanceof pr.default?r:new pr.default(r)}});var Js=_((Ef,Xs)=>{"use strict";function Qc(r){var e=new r,t=e;function n(){var s=e;return s.next?e=s.next:(e=new r,t=e),s.next=null,s}function i(s){t.next=s,t=s}return{get:n,release:i}}Xs.exports=Qc});var zs=_((vf,mr)=>{"use strict";var Xc=Js();function Zs(r,e,t){if(typeof r=="function"&&(t=e,e=r,r=null),!(t>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=Xc(Jc),i=null,s=null,o=0,a=null,u={push:S,drain:Z,saturated:Z,pause:c,paused:!1,get concurrency(){return t},set concurrency(O){if(!(O>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(t=O,!u.paused)for(;i&&o<t;)o++,R()},running:f,resume:E,idle:g,length:h,getQueue:l,unshift:C,empty:Z,kill:G,killAndDrain:M,error:W,abort:re};return u;function f(){return o}function c(){u.paused=!0}function h(){for(var O=i,P=0;O;)O=O.next,P++;return P}function l(){for(var O=i,P=[];O;)P.push(O.value),O=O.next;return P}function E(){if(u.paused){if(u.paused=!1,i===null){o++,R();return}for(;i&&o<t;)o++,R()}}function g(){return o===0&&u.length()===0}function S(O,P){var A=n.get();A.context=r,A.release=R,A.value=O,A.callback=P||Z,A.errorHandler=a,o>=t||u.paused?s?(s.next=A,s=A):(i=A,s=A,u.saturated()):(o++,e.call(r,A.value,A.worked))}function C(O,P){var A=n.get();A.context=r,A.release=R,A.value=O,A.callback=P||Z,A.errorHandler=a,o>=t||u.paused?i?(A.next=i,i=A):(i=A,s=A,u.saturated()):(o++,e.call(r,A.value,A.worked))}function R(O){O&&n.release(O);var P=i;P&&o<=t?u.paused?o--:(s===i&&(s=null),i=P.next,P.next=null,e.call(r,P.value,P.worked),s===null&&u.empty()):--o===0&&u.drain()}function G(){i=null,s=null,u.drain=Z}function M(){i=null,s=null,u.drain(),u.drain=Z}function re(){var O=i;for(i=null,s=null;O;){var P=O.next,A=O.callback,T=O.errorHandler,j=O.value,m=O.context;O.value=null,O.callback=Z,O.errorHandler=null,T&&T(new Error("abort"),j),A.call(m,new Error("abort")),O.release(O),O=P}u.drain=Z}function W(O){a=O}}function Z(){}function Jc(){this.value=null,this.callback=Z,this.next=null,this.release=Z,this.context=null,this.errorHandler=null;var r=this;this.worked=function(t,n){var i=r.callback,s=r.errorHandler,o=r.value;r.value=null,r.callback=Z,r.errorHandler&&s(t,o),i.call(r.context,t,n),r.release(r)}}function Zc(r,e,t){typeof r=="function"&&(t=e,e=r,r=null);function n(c,h){e.call(this,c).then(function(l){h(null,l)},h)}var i=Zs(r,n,t),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i.drained=f,i;function a(c){var h=new Promise(function(l,E){s(c,function(g,S){if(g){E(g);return}l(S)})});return h.catch(Z),h}function u(c){var h=new Promise(function(l,E){o(c,function(g,S){if(g){E(g);return}l(S)})});return h.catch(Z),h}function f(){var c=new Promise(function(h){process.nextTick(function(){if(i.idle())h();else{var l=i.drain;i.drain=function(){typeof l=="function"&&l(),h(),i.drain=l}}})});return c}}mr.exports=Zs;mr.exports.promise=Zc});var gt=_(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.joinPathSegments=fe.replacePathSegmentSeparator=fe.isAppliedFilter=fe.isFatalError=void 0;function zc(r,e){return r.errorFilter===null?!0:!r.errorFilter(e)}fe.isFatalError=zc;function el(r,e){return r===null||r(e)}fe.isAppliedFilter=el;function tl(r,e){return r.split(/[/\\]/).join(e)}fe.replacePathSegmentSeparator=tl;function rl(r,e,t){return r===""?e:r.endsWith(t)?r+e:r+t+e}fe.joinPathSegments=rl});var yr=_(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});var nl=gt(),gr=class{constructor(e,t){this._root=e,this._settings=t,this._root=nl.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}};_r.default=gr});var br=_(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});var il=$("events"),sl=mt(),ol=zs(),_t=gt(),al=yr(),Sr=class extends al.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=sl.scandir,this._emitter=new il.EventEmitter,this._queue=ol(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){let n={directory:e,base:t};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){t(n,void 0);return}for(let s of i)this._handleEntry(s,e.base);t(null,void 0)})}_handleError(e){this._isDestroyed||!_t.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;let n=e.path;t!==void 0&&(e.path=_t.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),_t.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&_t.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,t===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};Ar.default=Sr});var eo=_(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});var ul=br(),Er=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new ul.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(t=>{cl(e,t)}),this._reader.onEntry(t=>{this._storage.push(t)}),this._reader.onEnd(()=>{ll(e,this._storage)}),this._reader.read()}};vr.default=Er;function cl(r,e){r(e)}function ll(r,e){r(null,e)}});var to=_(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});var hl=$("stream"),fl=br(),Or=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new fl.default(this._root,this._settings),this._stream=new hl.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Cr.default=Or});var ro=_(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});var pl=mt(),yt=gt(),dl=yr(),xr=class extends dl.default{constructor(){super(...arguments),this._scandir=pl.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{let n=this._scandir(e,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,t)}catch(n){this._handleError(n)}}_handleError(e){if(yt.isFatalError(this._settings,e))throw e}_handleEntry(e,t){let n=e.path;t!==void 0&&(e.path=yt.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),yt.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&yt.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,t===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};Rr.default=xr});var no=_(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});var ml=ro(),wr=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new ml.default(this._root,this._settings)}read(){return this._reader.read()}};Pr.default=wr});var io=_(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});var gl=$("path"),_l=mt(),Tr=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,gl.sep),this.fsScandirSettings=new _l.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}};kr.default=Tr});var At=_(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.Settings=pe.walkStream=pe.walkSync=pe.walk=void 0;var so=eo(),yl=to(),Sl=no(),Hr=io();pe.Settings=Hr.default;function Al(r,e,t){if(typeof e=="function"){new so.default(r,St()).read(e);return}new so.default(r,St(e)).read(t)}pe.walk=Al;function bl(r,e){let t=St(e);return new Sl.default(r,t).read()}pe.walkSync=bl;function El(r,e){let t=St(e);return new yl.default(r,t).read()}pe.walkStream=El;function St(r={}){return r instanceof Hr.default?r:new Hr.default(r)}});var bt=_(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});var vl=$("path"),Ol=Pe(),oo=me(),$r=class{constructor(e){this._settings=e,this._fsStatSettings=new Ol.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return vl.resolve(this._settings.cwd,e)}_makeEntry(e,t){let n={name:t,path:t,dirent:oo.fs.createDirentFromStats(t,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!oo.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};Lr.default=$r});var Mr=_(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});var Cl=$("stream"),xl=Pe(),Rl=At(),wl=bt(),Dr=class extends wl.default{constructor(){super(...arguments),this._walkStream=Rl.walkStream,this._stat=xl.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){let n=e.map(this._getFullEntryPath,this),i=new Cl.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],e[s],t).then(u=>{u!==null&&t.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(e,t,n){return this._getStat(e).then(i=>this._makeEntry(i,t)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(e){return new Promise((t,n)=>{this._stat(e,this._fsStatSettings,(i,s)=>i===null?t(s):n(i))})}};Nr.default=Dr});var ao=_(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});var Pl=At(),Tl=bt(),kl=Mr(),Ir=class extends Tl.default{constructor(){super(...arguments),this._walkAsync=Pl.walk,this._readerStream=new kl.default(this._settings)}dynamic(e,t){return new Promise((n,i)=>{this._walkAsync(e,t,(s,o)=>{s===null?n(o):i(s)})})}async static(e,t){let n=[],i=this._readerStream.static(e,t);return new Promise((s,o)=>{i.once("error",o),i.on("data",a=>n.push(a)),i.once("end",()=>s(n))})}};qr.default=Ir});var uo=_(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});var je=me(),Fr=class{constructor(e,t,n){this._patterns=e,this._settings=t,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){for(let e of this._patterns){let t=this._getPatternSegments(e),n=this._splitSegmentsIntoSections(t);this._storage.push({complete:n.length<=1,pattern:e,segments:t,sections:n})}}_getPatternSegments(e){return je.pattern.getPatternParts(e,this._micromatchOptions).map(n=>je.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:je.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(e){return je.array.splitWhen(e,t=>t.dynamic&&je.pattern.hasGlobStar(t.pattern))}};Br.default=Fr});var co=_(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});var Hl=uo(),jr=class extends Hl.default{match(e){let t=e.split("/"),n=t.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||t.every((u,f)=>{let c=s.segments[f];return!!(c.dynamic&&c.patternRe.test(u)||!c.dynamic&&c.pattern===u)}))return!0}return!1}};Vr.default=jr});var lo=_(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});var Et=me(),$l=co(),Wr=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,n){let i=this._getMatcher(t),s=this._getNegativePatternsRe(n);return o=>this._filter(e,o,i,s)}_getMatcher(e){return new $l.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let t=e.filter(Et.pattern.isAffectDepthOfReadingPattern);return Et.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,n,i){if(this._isSkippedByDeep(e,t.path)||this._isSkippedSymbolicLink(t))return!1;let s=Et.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(e,t){return this._settings.deep===1/0?!1:this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){let n=t.split("/").length;if(e==="")return n;let i=e.split("/").length;return n-i}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!Et.pattern.matchAny(e,t)}};Gr.default=Wr});var ho=_(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});var Ce=me(),Ur=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){let[n,i]=Ce.pattern.partitionAbsoluteAndRelative(t),s={positive:{all:Ce.pattern.convertPatternsToRe(e,this._micromatchOptions)},negative:{absolute:Ce.pattern.convertPatternsToRe(n,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:Ce.pattern.convertPatternsToRe(i,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return o=>this._filter(o,s)}_filter(e,t){let n=Ce.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(n)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;let i=this._isMatchToPatternsSet(n,t,e.dirent.isDirectory());return this._settings.unique&&i&&this._createIndexRecord(n),i}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isMatchToPatternsSet(e,t,n){return!(!this._isMatchToPatterns(e,t.positive.all,n)||this._isMatchToPatterns(e,t.negative.relative,n)||this._isMatchToAbsoluteNegative(e,t.negative.absolute,n))}_isMatchToAbsoluteNegative(e,t,n){if(t.length===0)return!1;let i=Ce.path.makeAbsolute(this._settings.cwd,e);return this._isMatchToPatterns(i,t,n)}_isMatchToPatterns(e,t,n){if(t.length===0)return!1;let i=Ce.pattern.matchAny(e,t);return!i&&n?Ce.pattern.matchAny(e+"/",t):i}};Kr.default=Ur});var fo=_(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});var Ll=me(),Yr=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return Ll.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};Qr.default=Yr});var mo=_(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});var po=me(),Xr=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=po.path.makeAbsolute(this._settings.cwd,t),t=po.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}};Jr.default=Xr});var vt=_(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});var Dl=$("path"),Nl=lo(),Ml=ho(),Il=fo(),ql=mo(),Zr=class{constructor(e){this._settings=e,this.errorFilter=new Il.default(this._settings),this.entryFilter=new Ml.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Nl.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new ql.default(this._settings)}_getRootDirectory(e){return Dl.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let t=e.base==="."?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};zr.default=Zr});var go=_(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});var Fl=ao(),Bl=vt(),en=class extends Bl.default{constructor(){super(...arguments),this._reader=new Fl.default(this._settings)}async read(e){let t=this._getRootDirectory(e),n=this._getReaderOptions(e);return(await this.api(t,e,n)).map(s=>n.transform(s))}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}};tn.default=en});var _o=_(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var jl=$("stream"),Vl=Mr(),Wl=vt(),rn=class extends Wl.default{constructor(){super(...arguments),this._reader=new Vl.default(this._settings)}read(e){let t=this._getRootDirectory(e),n=this._getReaderOptions(e),i=this.api(t,e,n),s=new jl.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}};nn.default=rn});var yo=_(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});var Gl=Pe(),Ul=At(),Kl=bt(),sn=class extends Kl.default{constructor(){super(...arguments),this._walkSync=Ul.walkSync,this._statSync=Gl.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){let n=[];for(let i of e){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,t);o===null||!t.entryFilter(o)||n.push(o)}return n}_getEntry(e,t,n){try{let i=this._getStat(e);return this._makeEntry(i,t)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};on.default=sn});var So=_(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var Yl=yo(),Ql=vt(),an=class extends Ql.default{constructor(){super(...arguments),this._reader=new Yl.default(this._settings)}read(e){let t=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(t,e,n).map(n.transform)}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}};un.default=an});var Ao=_(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Ne=$("fs"),Xl=$("os"),Jl=Math.max(Xl.cpus().length,1);Me.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Ne.lstat,lstatSync:Ne.lstatSync,stat:Ne.stat,statSync:Ne.statSync,readdir:Ne.readdir,readdirSync:Ne.readdirSync};var cn=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Jl),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(e,t){return e===void 0?t:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},Me.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};Me.default=cn});var vo=_((Yf,Eo)=>{"use strict";var bo=bs(),Zl=go(),zl=_o(),eh=So(),ln=Ao(),ie=me();async function hn(r,e){ae(r);let t=fn(r,Zl.default,e),n=await Promise.all(t);return ie.array.flatten(n)}(function(r){r.glob=r,r.globSync=e,r.globStream=t,r.async=r;function e(f,c){ae(f);let h=fn(f,eh.default,c);return ie.array.flatten(h)}r.sync=e;function t(f,c){ae(f);let h=fn(f,zl.default,c);return ie.stream.merge(h)}r.stream=t;function n(f,c){ae(f);let h=[].concat(f),l=new ln.default(c);return bo.generate(h,l)}r.generateTasks=n;function i(f,c){ae(f);let h=new ln.default(c);return ie.pattern.isDynamicPattern(f,h)}r.isDynamicPattern=i;function s(f){return ae(f),ie.path.escape(f)}r.escapePath=s;function o(f){return ae(f),ie.path.convertPathToPattern(f)}r.convertPathToPattern=o;let a;(function(f){function c(l){return ae(l),ie.path.escapePosixPath(l)}f.escapePath=c;function h(l){return ae(l),ie.path.convertPosixPathToPattern(l)}f.convertPathToPattern=h})(a=r.posix||(r.posix={}));let u;(function(f){function c(l){return ae(l),ie.path.escapeWindowsPath(l)}f.escapePath=c;function h(l){return ae(l),ie.path.convertWindowsPathToPattern(l)}f.convertPathToPattern=h})(u=r.win32||(r.win32={}))})(hn||(hn={}));function fn(r,e,t){let n=[].concat(r),i=new ln.default(t),s=bo.generate(n,i),o=new e(i);return s.map(o.read,o)}function ae(r){if(![].concat(r).every(n=>ie.string.isString(n)&&!ie.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Eo.exports=hn});var Ve=_(dn=>{"use strict";var Ot=class extends Error{constructor(e,t,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}},pn=class extends Ot{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};dn.CommanderError=Ot;dn.InvalidArgumentError=pn});var Ct=_(gn=>{"use strict";var{InvalidArgumentError:th}=Ve(),mn=class{constructor(e,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.endsWith("...")&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_collectValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:(t.push(e),t)}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,n)=>{if(!this.argChoices.includes(t))throw new th(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._collectValue(t,n):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function rh(r){let e=r.name()+(r.variadic===!0?"...":"");return r.required?"<"+e+">":"["+e+"]"}gn.Argument=mn;gn.humanReadableArgName=rh});var Sn=_(yn=>{"use strict";var{humanReadableArgName:nh}=Ct(),_n=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(e){this.helpWidth=this.helpWidth??e.helpWidth??80}visibleCommands(e){let t=e.commands.filter(i=>!i._hidden),n=e._getHelpCommand();return n&&!n._hidden&&t.push(n),this.sortSubcommands&&t.sort((i,s)=>i.name().localeCompare(s.name())),t}compareOptions(e,t){let n=i=>i.short?i.short.replace(/^-/,""):i.long.replace(/^--/,"");return n(e).localeCompare(n(t))}visibleOptions(e){let t=e.options.filter(i=>!i.hidden),n=e._getHelpOption();if(n&&!n.hidden){let i=n.short&&e._findOption(n.short),s=n.long&&e._findOption(n.long);!i&&!s?t.push(n):n.long&&!s?t.push(e.createOption(n.long,n.description)):n.short&&!i&&t.push(e.createOption(n.short,n.description))}return this.sortOptions&&t.sort(this.compareOptions),t}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let t=[];for(let n=e.parent;n;n=n.parent){let i=n.options.filter(s=>!s.hidden);t.push(...i)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleArguments(e){return e._argsDescription&&e.registeredArguments.forEach(t=>{t.description=t.description||e._argsDescription[t.name()]||""}),e.registeredArguments.find(t=>t.description)?e.registeredArguments:[]}subcommandTerm(e){let t=e.registeredArguments.map(n=>nh(n)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce((n,i)=>Math.max(n,this.displayWidth(t.styleSubcommandTerm(t.subcommandTerm(i)))),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce((n,i)=>Math.max(n,this.displayWidth(t.styleOptionTerm(t.optionTerm(i)))),0)}longestGlobalOptionTermLength(e,t){return t.visibleGlobalOptions(e).reduce((n,i)=>Math.max(n,this.displayWidth(t.styleOptionTerm(t.optionTerm(i)))),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce((n,i)=>Math.max(n,this.displayWidth(t.styleArgumentTerm(t.argumentTerm(i)))),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let n="";for(let i=e.parent;i;i=i.parent)n=i.name()+" "+n;return n+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&t.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&t.push(`env: ${e.envVar}`),t.length>0){let n=`(${t.join(", ")})`;return e.description?`${e.description} ${n}`:n}return e.description}argumentDescription(e){let t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0){let n=`(${t.join(", ")})`;return e.description?`${e.description} ${n}`:n}return e.description}formatItemList(e,t,n){return t.length===0?[]:[n.styleTitle(e),...t,""]}groupItems(e,t,n){let i=new Map;return e.forEach(s=>{let o=n(s);i.has(o)||i.set(o,[])}),t.forEach(s=>{let o=n(s);i.has(o)||i.set(o,[]),i.get(o).push(s)}),i}formatHelp(e,t){let n=t.padWidth(e,t),i=t.helpWidth??80;function s(h,l){return t.formatItem(h,n,l,t)}let o=[`${t.styleTitle("Usage:")} ${t.styleUsage(t.commandUsage(e))}`,""],a=t.commandDescription(e);a.length>0&&(o=o.concat([t.boxWrap(t.styleCommandDescription(a),i),""]));let u=t.visibleArguments(e).map(h=>s(t.styleArgumentTerm(t.argumentTerm(h)),t.styleArgumentDescription(t.argumentDescription(h))));if(o=o.concat(this.formatItemList("Arguments:",u,t)),this.groupItems(e.options,t.visibleOptions(e),h=>h.helpGroupHeading??"Options:").forEach((h,l)=>{let E=h.map(g=>s(t.styleOptionTerm(t.optionTerm(g)),t.styleOptionDescription(t.optionDescription(g))));o=o.concat(this.formatItemList(l,E,t))}),t.showGlobalOptions){let h=t.visibleGlobalOptions(e).map(l=>s(t.styleOptionTerm(t.optionTerm(l)),t.styleOptionDescription(t.optionDescription(l))));o=o.concat(this.formatItemList("Global Options:",h,t))}return this.groupItems(e.commands,t.visibleCommands(e),h=>h.helpGroup()||"Commands:").forEach((h,l)=>{let E=h.map(g=>s(t.styleSubcommandTerm(t.subcommandTerm(g)),t.styleSubcommandDescription(t.subcommandDescription(g))));o=o.concat(this.formatItemList(l,E,t))}),o.join(`
`)}displayWidth(e){return Oo(e).length}styleTitle(e){return e}styleUsage(e){return e.split(" ").map(t=>t==="[options]"?this.styleOptionText(t):t==="[command]"?this.styleSubcommandText(t):t[0]==="["||t[0]==="<"?this.styleArgumentText(t):this.styleCommandText(t)).join(" ")}styleCommandDescription(e){return this.styleDescriptionText(e)}styleOptionDescription(e){return this.styleDescriptionText(e)}styleSubcommandDescription(e){return this.styleDescriptionText(e)}styleArgumentDescription(e){return this.styleDescriptionText(e)}styleDescriptionText(e){return e}styleOptionTerm(e){return this.styleOptionText(e)}styleSubcommandTerm(e){return e.split(" ").map(t=>t==="[options]"?this.styleOptionText(t):t[0]==="["||t[0]==="<"?this.styleArgumentText(t):this.styleSubcommandText(t)).join(" ")}styleArgumentTerm(e){return this.styleArgumentText(e)}styleOptionText(e){return e}styleArgumentText(e){return e}styleSubcommandText(e){return e}styleCommandText(e){return e}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestGlobalOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}preformatted(e){return/\n[^\S\r\n]/.test(e)}formatItem(e,t,n,i){let o=" ".repeat(2);if(!n)return o+e;let a=e.padEnd(t+e.length-i.displayWidth(e)),u=2,c=(this.helpWidth??80)-t-u-2,h;return c<this.minWidthToWrap||i.preformatted(n)?h=n:h=i.boxWrap(n,c).replace(/\n/g,`
`+" ".repeat(t+u)),o+a+" ".repeat(u)+h.replace(/\n/g,`
${o}`)}boxWrap(e,t){if(t<this.minWidthToWrap)return e;let n=e.split(/\r\n|\n/),i=/[\s]*[^\s]+/g,s=[];return n.forEach(o=>{let a=o.match(i);if(a===null){s.push("");return}let u=[a.shift()],f=this.displayWidth(u[0]);a.forEach(c=>{let h=this.displayWidth(c);if(f+h<=t){u.push(c),f+=h;return}s.push(u.join(""));let l=c.trimStart();u=[l],f=this.displayWidth(l)}),s.push(u.join(""))}),s.join(`
`)}};function Oo(r){let e=/\x1b\[\d*(;\d*)*m/g;return r.replace(e,"")}yn.Help=_n;yn.stripColor=Oo});var vn=_(En=>{"use strict";var{InvalidArgumentError:ih}=Ve(),An=class{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let n=sh(e);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0,this.helpGroupHeading=void 0}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let t=e;return typeof e=="string"&&(t={[e]:!0}),this.implied=Object.assign(this.implied||{},t),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_collectValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:(t.push(e),t)}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,n)=>{if(!this.argChoices.includes(t))throw new ih(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._collectValue(t,n):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?Co(this.name().replace(/^no-/,"")):Co(this.name())}helpGroup(e){return this.helpGroupHeading=e,this}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},bn=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)}),this.negativeOptions.forEach((t,n)=>{this.positiveOptions.has(n)&&this.dualOptions.add(n)})}valueFromOption(e,t){let n=t.attributeName();if(!this.dualOptions.has(n))return!0;let i=this.negativeOptions.get(n).presetArg,s=i!==void 0?i:!1;return t.negate===(s===e)}};function Co(r){return r.split("-").reduce((e,t)=>e+t[0].toUpperCase()+t.slice(1))}function sh(r){let e,t,n=/^-[^-]$/,i=/^--[^-]/,s=r.split(/[ |,]+/).concat("guard");if(n.test(s[0])&&(e=s.shift()),i.test(s[0])&&(t=s.shift()),!e&&n.test(s[0])&&(e=s.shift()),!e&&i.test(s[0])&&(e=t,t=s.shift()),s[0].startsWith("-")){let o=s[0],a=`option creation failed due to '${o}' in option flags '${r}'`;throw/^-[^-][^-]/.test(o)?new Error(`${a}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):n.test(o)?new Error(`${a}
- too many short flags`):i.test(o)?new Error(`${a}
- too many long flags`):new Error(`${a}
- unrecognised flag format`)}if(e===void 0&&t===void 0)throw new Error(`option creation failed due to no flags found in '${r}'.`);return{shortFlag:e,longFlag:t}}En.Option=An;En.DualOptions=bn});var Ro=_(xo=>{"use strict";function oh(r,e){if(Math.abs(r.length-e.length)>3)return Math.max(r.length,e.length);let t=[];for(let n=0;n<=r.length;n++)t[n]=[n];for(let n=0;n<=e.length;n++)t[0][n]=n;for(let n=1;n<=e.length;n++)for(let i=1;i<=r.length;i++){let s=1;r[i-1]===e[n-1]?s=0:s=1,t[i][n]=Math.min(t[i-1][n]+1,t[i][n-1]+1,t[i-1][n-1]+s),i>1&&n>1&&r[i-1]===e[n-2]&&r[i-2]===e[n-1]&&(t[i][n]=Math.min(t[i][n],t[i-2][n-2]+1))}return t[r.length][e.length]}function ah(r,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let t=r.startsWith("--");t&&(r=r.slice(2),e=e.map(o=>o.slice(2)));let n=[],i=3,s=.4;return e.forEach(o=>{if(o.length<=1)return;let a=oh(r,o),u=Math.max(r.length,o.length);(u-a)/u>s&&(a<i?(i=a,n=[o]):a===i&&n.push(o))}),n.sort((o,a)=>o.localeCompare(a)),t&&(n=n.map(o=>`--${o}`)),n.length>1?`
(Did you mean one of ${n.join(", ")}?)`:n.length===1?`
(Did you mean ${n[0]}?)`:""}xo.suggestSimilar=ah});var ko=_(wn=>{"use strict";var uh=$("events").EventEmitter,On=$("child_process"),ge=$("path"),xt=$("fs"),H=$("process"),{Argument:ch,humanReadableArgName:lh}=Ct(),{CommanderError:Cn}=Ve(),{Help:hh,stripColor:fh}=Sn(),{Option:wo,DualOptions:ph}=vn(),{suggestSimilar:Po}=Ro(),xn=class r extends uh{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:t=>H.stdout.write(t),writeErr:t=>H.stderr.write(t),outputError:(t,n)=>n(t),getOutHelpWidth:()=>H.stdout.isTTY?H.stdout.columns:void 0,getErrHelpWidth:()=>H.stderr.isTTY?H.stderr.columns:void 0,getOutHasColors:()=>Rn()??(H.stdout.isTTY&&H.stdout.hasColors?.()),getErrHasColors:()=>Rn()??(H.stderr.isTTY&&H.stderr.hasColors?.()),stripColor:t=>fh(t)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={},this._helpGroupHeading=void 0,this._defaultCommandGroup=void 0,this._defaultOptionGroup=void 0}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._helpOption=e._helpOption,this._helpCommand=e._helpCommand,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}_getCommandAndAncestors(){let e=[];for(let t=this;t;t=t.parent)e.push(t);return e}command(e,t,n){let i=t,s=n;typeof i=="object"&&i!==null&&(s=i,i=null),s=s||{};let[,o,a]=e.match(/([^ ]+) *(.*)/),u=this.createCommand(o);return i&&(u.description(i),u._executableHandler=!0),s.isDefault&&(this._defaultCommandName=u._name),u._hidden=!!(s.noHelp||s.hidden),u._executableFile=s.executableFile||null,a&&u.arguments(a),this._registerCommand(u),u.parent=this,u.copyInheritedSettings(this),i?this:u}createCommand(e){return new r(e)}createHelp(){return Object.assign(new hh,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(this._outputConfiguration={...this._outputConfiguration,...e},this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,t){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return t=t||{},t.isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this._registerCommand(e),e.parent=this,e._checkForBrokenPassThrough(),this}createArgument(e,t){return new ch(e,t)}argument(e,t,n,i){let s=this.createArgument(e,t);return typeof n=="function"?s.default(i).argParser(n):s.default(n),this.addArgument(s),this}arguments(e){return e.trim().split(/ +/).forEach(t=>{this.argument(t)}),this}addArgument(e){let t=this.registeredArguments.slice(-1)[0];if(t?.variadic)throw new Error(`only the last argument can be variadic '${t.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this.registeredArguments.push(e),this}helpCommand(e,t){if(typeof e=="boolean")return this._addImplicitHelpCommand=e,e&&this._defaultCommandGroup&&this._initCommandGroup(this._getHelpCommand()),this;let n=e??"help [command]",[,i,s]=n.match(/([^ ]+) *(.*)/),o=t??"display help for command",a=this.createCommand(i);return a.helpOption(!1),s&&a.arguments(s),o&&a.description(o),this._addImplicitHelpCommand=!0,this._helpCommand=a,(e||t)&&this._initCommandGroup(a),this}addHelpCommand(e,t){return typeof e!="object"?(this.helpCommand(e,t),this):(this._addImplicitHelpCommand=!0,this._helpCommand=e,this._initCommandGroup(e),this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(e,t){let n=["preSubcommand","preAction","postAction"];if(!n.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(t):this._lifeCycleHooks[e]=[t],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=t=>{if(t.code!=="commander.executeSubCommandAsync")throw t},this}_exit(e,t,n){this._exitCallback&&this._exitCallback(new Cn(e,t,n)),H.exit(e)}action(e){let t=n=>{let i=this.registeredArguments.length,s=n.slice(0,i);return this._storeOptionsAsProperties?s[i]=this:s[i]=this.opts(),s.push(this),e.apply(this,s)};return this._actionHandler=t,this}createOption(e,t){return new wo(e,t)}_callParseArg(e,t,n,i){try{return e.parseArg(t,n)}catch(s){if(s.code==="commander.invalidArgument"){let o=`${i} ${s.message}`;this.error(o,{exitCode:s.exitCode,code:s.code})}throw s}}_registerOption(e){let t=e.short&&this._findOption(e.short)||e.long&&this._findOption(e.long);if(t){let n=e.long&&this._findOption(e.long)?e.long:e.short;throw new Error(`Cannot add option '${e.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${n}'
-  already used by option '${t.flags}'`)}this._initOptionGroup(e),this.options.push(e)}_registerCommand(e){let t=i=>[i.name()].concat(i.aliases()),n=t(e).find(i=>this._findCommand(i));if(n){let i=t(this._findCommand(n)).join("|"),s=t(e).join("|");throw new Error(`cannot add command '${s}' as already have command '${i}'`)}this._initCommandGroup(e),this.commands.push(e)}addOption(e){this._registerOption(e);let t=e.name(),n=e.attributeName();if(e.negate){let s=e.long.replace(/^--no-/,"--");this._findOption(s)||this.setOptionValueWithSource(n,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(n,e.defaultValue,"default");let i=(s,o,a)=>{s==null&&e.presetArg!==void 0&&(s=e.presetArg);let u=this.getOptionValue(n);s!==null&&e.parseArg?s=this._callParseArg(e,s,u,o):s!==null&&e.variadic&&(s=e._collectValue(s,u)),s==null&&(e.negate?s=!1:e.isBoolean()||e.optional?s=!0:s=""),this.setOptionValueWithSource(n,s,a)};return this.on("option:"+t,s=>{let o=`error: option '${e.flags}' argument '${s}' is invalid.`;i(s,o,"cli")}),e.envVar&&this.on("optionEnv:"+t,s=>{let o=`error: option '${e.flags}' value '${s}' from env '${e.envVar}' is invalid.`;i(s,o,"env")}),this}_optionEx(e,t,n,i,s){if(typeof t=="object"&&t instanceof wo)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let o=this.createOption(t,n);if(o.makeOptionMandatory(!!e.mandatory),typeof i=="function")o.default(s).argParser(i);else if(i instanceof RegExp){let a=i;i=(u,f)=>{let c=a.exec(u);return c?c[0]:f},o.default(s).argParser(i)}else o.default(i);return this.addOption(o)}option(e,t,n,i){return this._optionEx({},e,t,n,i)}requiredOption(e,t,n,i){return this._optionEx({mandatory:!0},e,t,n,i)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){return this._passThroughOptions=!!e,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(e=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!e,this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,t){return this.setOptionValueWithSource(e,t,void 0)}setOptionValueWithSource(e,t,n){return this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t,this._optionValueSources[e]=n,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let t;return this._getCommandAndAncestors().forEach(n=>{n.getOptionValueSource(e)!==void 0&&(t=n.getOptionValueSource(e))}),t}_prepareUserArgs(e,t){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");if(t=t||{},e===void 0&&t.from===void 0){H.versions?.electron&&(t.from="electron");let i=H.execArgv??[];(i.includes("-e")||i.includes("--eval")||i.includes("-p")||i.includes("--print"))&&(t.from="eval")}e===void 0&&(e=H.argv),this.rawArgs=e.slice();let n;switch(t.from){case void 0:case"node":this._scriptPath=e[1],n=e.slice(2);break;case"electron":H.defaultApp?(this._scriptPath=e[1],n=e.slice(2)):n=e.slice(1);break;case"user":n=e.slice(0);break;case"eval":n=e.slice(1);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",n}parse(e,t){this._prepareForParse();let n=this._prepareUserArgs(e,t);return this._parseCommand([],n),this}async parseAsync(e,t){this._prepareForParse();let n=this._prepareUserArgs(e,t);return await this._parseCommand([],n),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(e,t,n){if(xt.existsSync(e))return;let i=t?`searched for local subcommand relative to directory '${t}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",s=`'${e}' does not exist
 - if '${n}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${i}`;throw new Error(s)}_executeSubCommand(e,t){t=t.slice();let n=!1,i=[".js",".ts",".tsx",".mjs",".cjs"];function s(c,h){let l=ge.resolve(c,h);if(xt.existsSync(l))return l;if(i.includes(ge.extname(h)))return;let E=i.find(g=>xt.existsSync(`${l}${g}`));if(E)return`${l}${E}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=e._executableFile||`${this._name}-${e._name}`,a=this._executableDir||"";if(this._scriptPath){let c;try{c=xt.realpathSync(this._scriptPath)}catch{c=this._scriptPath}a=ge.resolve(ge.dirname(c),a)}if(a){let c=s(a,o);if(!c&&!e._executableFile&&this._scriptPath){let h=ge.basename(this._scriptPath,ge.extname(this._scriptPath));h!==this._name&&(c=s(a,`${h}-${e._name}`))}o=c||o}n=i.includes(ge.extname(o));let u;H.platform!=="win32"?n?(t.unshift(o),t=To(H.execArgv).concat(t),u=On.spawn(H.argv[0],t,{stdio:"inherit"})):u=On.spawn(o,t,{stdio:"inherit"}):(this._checkForMissingExecutable(o,a,e._name),t.unshift(o),t=To(H.execArgv).concat(t),u=On.spawn(H.execPath,t,{stdio:"inherit"})),u.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(h=>{H.on(h,()=>{u.killed===!1&&u.exitCode===null&&u.kill(h)})});let f=this._exitCallback;u.on("close",c=>{c=c??1,f?f(new Cn(c,"commander.executeSubCommandAsync","(close)")):H.exit(c)}),u.on("error",c=>{if(c.code==="ENOENT")this._checkForMissingExecutable(o,a,e._name);else if(c.code==="EACCES")throw new Error(`'${o}' not executable`);if(!f)H.exit(1);else{let h=new Cn(1,"commander.executeSubCommandAsync","(error)");h.nestedError=c,f(h)}}),this.runningCommand=u}_dispatchSubcommand(e,t,n){let i=this._findCommand(e);i||this.help({error:!0}),i._prepareForParse();let s;return s=this._chainOrCallSubCommandHook(s,i,"preSubcommand"),s=this._chainOrCall(s,()=>{if(i._executableHandler)this._executeSubCommand(i,t.concat(n));else return i._parseCommand(t,n)}),s}_dispatchHelpCommand(e){e||this.help();let t=this._findCommand(e);return t&&!t._executableHandler&&t.help(),this._dispatchSubcommand(e,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((e,t)=>{e.required&&this.args[t]==null&&this.missingArgument(e.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(n,i,s)=>{let o=i;if(i!==null&&n.parseArg){let a=`error: command-argument value '${i}' is invalid for argument '${n.name()}'.`;o=this._callParseArg(n,i,s,a)}return o};this._checkNumberOfArguments();let t=[];this.registeredArguments.forEach((n,i)=>{let s=n.defaultValue;n.variadic?i<this.args.length?(s=this.args.slice(i),n.parseArg&&(s=s.reduce((o,a)=>e(n,a,o),n.defaultValue))):s===void 0&&(s=[]):i<this.args.length&&(s=this.args[i],n.parseArg&&(s=e(n,s,n.defaultValue))),t[i]=s}),this.processedArgs=t}_chainOrCall(e,t){return e?.then&&typeof e.then=="function"?e.then(()=>t()):t()}_chainOrCallHooks(e,t){let n=e,i=[];return this._getCommandAndAncestors().reverse().filter(s=>s._lifeCycleHooks[t]!==void 0).forEach(s=>{s._lifeCycleHooks[t].forEach(o=>{i.push({hookedCommand:s,callback:o})})}),t==="postAction"&&i.reverse(),i.forEach(s=>{n=this._chainOrCall(n,()=>s.callback(s.hookedCommand,this))}),n}_chainOrCallSubCommandHook(e,t,n){let i=e;return this._lifeCycleHooks[n]!==void 0&&this._lifeCycleHooks[n].forEach(s=>{i=this._chainOrCall(i,()=>s(this,t))}),i}_parseCommand(e,t){let n=this.parseOptions(t);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(n.operands),t=n.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),t);if(this._getHelpCommand()&&e[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(e[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(t),this._dispatchSubcommand(this._defaultCommandName,e,t);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let i=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},s=`command:${this.name()}`;if(this._actionHandler){i(),this._processArguments();let o;return o=this._chainOrCallHooks(o,"preAction"),o=this._chainOrCall(o,()=>this._actionHandler(this.processedArgs)),this.parent&&(o=this._chainOrCall(o,()=>{this.parent.emit(s,e,t)})),o=this._chainOrCallHooks(o,"postAction"),o}if(this.parent?.listenerCount(s))i(),this._processArguments(),this.parent.emit(s,e,t);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,t);this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():(i(),this._processArguments())}else this.commands.length?(i(),this.help({error:!0})):(i(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(t=>t._name===e||t._aliases.includes(e))}_findOption(e){return this.options.find(t=>t.is(e))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(e=>{e.options.forEach(t=>{t.mandatory&&e.getOptionValue(t.attributeName())===void 0&&e.missingMandatoryOptionValue(t)})})}_checkForConflictingLocalOptions(){let e=this.options.filter(n=>{let i=n.attributeName();return this.getOptionValue(i)===void 0?!1:this.getOptionValueSource(i)!=="default"});e.filter(n=>n.conflictsWith.length>0).forEach(n=>{let i=e.find(s=>n.conflictsWith.includes(s.attributeName()));i&&this._conflictingOption(n,i)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(e=>{e._checkForConflictingLocalOptions()})}parseOptions(e){let t=[],n=[],i=t;function s(c){return c.length>1&&c[0]==="-"}let o=c=>/^-(\d+|\d*\.\d+)(e[+-]?\d+)?$/.test(c)?!this._getCommandAndAncestors().some(h=>h.options.map(l=>l.short).some(l=>/^-\d$/.test(l))):!1,a=null,u=null,f=0;for(;f<e.length||u;){let c=u??e[f++];if(u=null,c==="--"){i===n&&i.push(c),i.push(...e.slice(f));break}if(a&&(!s(c)||o(c))){this.emit(`option:${a.name()}`,c);continue}if(a=null,s(c)){let h=this._findOption(c);if(h){if(h.required){let l=e[f++];l===void 0&&this.optionMissingArgument(h),this.emit(`option:${h.name()}`,l)}else if(h.optional){let l=null;f<e.length&&(!s(e[f])||o(e[f]))&&(l=e[f++]),this.emit(`option:${h.name()}`,l)}else this.emit(`option:${h.name()}`);a=h.variadic?h:null;continue}}if(c.length>2&&c[0]==="-"&&c[1]!=="-"){let h=this._findOption(`-${c[1]}`);if(h){h.required||h.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${h.name()}`,c.slice(2)):(this.emit(`option:${h.name()}`),u=`-${c.slice(2)}`);continue}}if(/^--[^=]+=/.test(c)){let h=c.indexOf("="),l=this._findOption(c.slice(0,h));if(l&&(l.required||l.optional)){this.emit(`option:${l.name()}`,c.slice(h+1));continue}}if(i===t&&s(c)&&!(this.commands.length===0&&o(c))&&(i=n),(this._enablePositionalOptions||this._passThroughOptions)&&t.length===0&&n.length===0){if(this._findCommand(c)){t.push(c),n.push(...e.slice(f));break}else if(this._getHelpCommand()&&c===this._getHelpCommand().name()){t.push(c,...e.slice(f));break}else if(this._defaultCommandName){n.push(c,...e.slice(f));break}}if(this._passThroughOptions){i.push(c,...e.slice(f));break}i.push(c)}return{operands:t,unknown:n}}opts(){if(this._storeOptionsAsProperties){let e={},t=this.options.length;for(let n=0;n<t;n++){let i=this.options[n].attributeName();e[i]=i===this._versionOptionName?this._version:this[i]}return e}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((e,t)=>Object.assign(e,t.opts()),{})}error(e,t){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let n=t||{},i=n.exitCode||1,s=n.code||"commander.error";this._exit(i,s,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in H.env){let t=e.attributeName();(this.getOptionValue(t)===void 0||["default","config","env"].includes(this.getOptionValueSource(t)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,H.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new ph(this.options),t=n=>this.getOptionValue(n)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(n));this.options.filter(n=>n.implied!==void 0&&t(n.attributeName())&&e.valueFromOption(this.getOptionValue(n.attributeName()),n)).forEach(n=>{Object.keys(n.implied).filter(i=>!t(i)).forEach(i=>{this.setOptionValueWithSource(i,n.implied[i],"implied")})})}missingArgument(e){let t=`error: missing required argument '${e}'`;this.error(t,{code:"commander.missingArgument"})}optionMissingArgument(e){let t=`error: option '${e.flags}' argument missing`;this.error(t,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let t=`error: required option '${e.flags}' not specified`;this.error(t,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,t){let n=o=>{let a=o.attributeName(),u=this.getOptionValue(a),f=this.options.find(h=>h.negate&&a===h.attributeName()),c=this.options.find(h=>!h.negate&&a===h.attributeName());return f&&(f.presetArg===void 0&&u===!1||f.presetArg!==void 0&&u===f.presetArg)?f:c||o},i=o=>{let a=n(o),u=a.attributeName();return this.getOptionValueSource(u)==="env"?`environment variable '${a.envVar}'`:`option '${a.flags}'`},s=`error: ${i(e)} cannot be used with ${i(t)}`;this.error(s,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let i=[],s=this;do{let o=s.createHelp().visibleOptions(s).filter(a=>a.long).map(a=>a.long);i=i.concat(o),s=s.parent}while(s&&!s._enablePositionalOptions);t=Po(e,i)}let n=`error: unknown option '${e}'${t}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let t=this.registeredArguments.length,n=t===1?"":"s",s=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${n} but got ${e.length}.`;this.error(s,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],t="";if(this._showSuggestionAfterError){let i=[];this.createHelp().visibleCommands(this).forEach(s=>{i.push(s.name()),s.alias()&&i.push(s.alias())}),t=Po(e,i)}let n=`error: unknown command '${e}'${t}`;this.error(n,{code:"commander.unknownCommand"})}version(e,t,n){if(e===void 0)return this._version;this._version=e,t=t||"-V, --version",n=n||"output the version number";let i=this.createOption(t,n);return this._versionOptionName=i.attributeName(),this._registerOption(i),this.on("option:"+i.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,t){return e===void 0&&t===void 0?this._description:(this._description=e,t&&(this._argsDescription=t),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){if(e===void 0)return this._aliases[0];let t=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(t=this.commands[this.commands.length-1]),e===t._name)throw new Error("Command alias can't be the same as its name");let n=this.parent?._findCommand(e);if(n){let i=[n.name()].concat(n.aliases()).join("|");throw new Error(`cannot add alias '${e}' to command '${this.name()}' as already have command '${i}'`)}return t._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(t=>this.alias(t)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let t=this.registeredArguments.map(n=>lh(n));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}helpGroup(e){return e===void 0?this._helpGroupHeading??"":(this._helpGroupHeading=e,this)}commandsGroup(e){return e===void 0?this._defaultCommandGroup??"":(this._defaultCommandGroup=e,this)}optionsGroup(e){return e===void 0?this._defaultOptionGroup??"":(this._defaultOptionGroup=e,this)}_initOptionGroup(e){this._defaultOptionGroup&&!e.helpGroupHeading&&e.helpGroup(this._defaultOptionGroup)}_initCommandGroup(e){this._defaultCommandGroup&&!e.helpGroup()&&e.helpGroup(this._defaultCommandGroup)}nameFromFilename(e){return this._name=ge.basename(e,ge.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let t=this.createHelp(),n=this._getOutputContext(e);t.prepareContext({error:n.error,helpWidth:n.helpWidth,outputHasColors:n.hasColors});let i=t.formatHelp(this,t);return n.hasColors?i:this._outputConfiguration.stripColor(i)}_getOutputContext(e){e=e||{};let t=!!e.error,n,i,s;return t?(n=a=>this._outputConfiguration.writeErr(a),i=this._outputConfiguration.getErrHasColors(),s=this._outputConfiguration.getErrHelpWidth()):(n=a=>this._outputConfiguration.writeOut(a),i=this._outputConfiguration.getOutHasColors(),s=this._outputConfiguration.getOutHelpWidth()),{error:t,write:a=>(i||(a=this._outputConfiguration.stripColor(a)),n(a)),hasColors:i,helpWidth:s}}outputHelp(e){let t;typeof e=="function"&&(t=e,e=void 0);let n=this._getOutputContext(e),i={error:n.error,write:n.write,command:this};this._getCommandAndAncestors().reverse().forEach(o=>o.emit("beforeAllHelp",i)),this.emit("beforeHelp",i);let s=this.helpInformation({error:n.error});if(t&&(s=t(s),typeof s!="string"&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");n.write(s),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",i),this._getCommandAndAncestors().forEach(o=>o.emit("afterAllHelp",i))}helpOption(e,t){return typeof e=="boolean"?(e?(this._helpOption===null&&(this._helpOption=void 0),this._defaultOptionGroup&&this._initOptionGroup(this._getHelpOption())):this._helpOption=null,this):(this._helpOption=this.createOption(e??"-h, --help",t??"display help for command"),(e||t)&&this._initOptionGroup(this._helpOption),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(e){return this._helpOption=e,this._initOptionGroup(e),this}help(e){this.outputHelp(e);let t=Number(H.exitCode??0);t===0&&e&&typeof e!="function"&&e.error&&(t=1),this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){let n=["beforeAll","before","after","afterAll"];if(!n.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${n.join("', '")}'`);let i=`${e}Help`;return this.on(i,s=>{let o;typeof t=="function"?o=t({error:s.error,command:s.command}):o=t,o&&s.write(`${o}
`)}),this}_outputHelpIfRequested(e){let t=this._getHelpOption();t&&e.find(i=>t.is(i))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function To(r){return r.map(e=>{if(!e.startsWith("--inspect"))return e;let t,n="127.0.0.1",i="9229",s;return(s=e.match(/^(--inspect(-brk)?)$/))!==null?t=s[1]:(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(t=s[1],/^\d+$/.test(s[3])?i=s[3]:n=s[3]):(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(t=s[1],n=s[3],i=s[4]),t&&i!=="0"?`${t}=${n}:${parseInt(i)+1}`:e})}function Rn(){if(H.env.NO_COLOR||H.env.FORCE_COLOR==="0"||H.env.FORCE_COLOR==="false")return!1;if(H.env.FORCE_COLOR||H.env.CLICOLOR_FORCE!==void 0)return!0}wn.Command=xn;wn.useColor=Rn});var Do=_(se=>{"use strict";var{Argument:Ho}=Ct(),{Command:Pn}=ko(),{CommanderError:dh,InvalidArgumentError:$o}=Ve(),{Help:mh}=Sn(),{Option:Lo}=vn();se.program=new Pn;se.createCommand=r=>new Pn(r);se.createOption=(r,e)=>new Lo(r,e);se.createArgument=(r,e)=>new Ho(r,e);se.Command=Pn;se.Option=Lo;se.Argument=Ho;se.Help=mh;se.CommanderError=dh;se.InvalidArgumentError=$o;se.InvalidOptionArgumentError=$o});var Bo=Hn(vo(),1);import xh from"fs";import Rh from"path";var No=Hn(Do(),1),{program:rp,createCommand:np,createArgument:ip,createOption:sp,CommanderError:op,InvalidArgumentError:ap,InvalidOptionArgumentError:up,Command:Mo,Argument:cp,Option:lp,Help:hp}=No.default;import Io from"fs";import yh from"path";import{createRequire as Sh}from"module";function gh(r){return!!r&&typeof r=="object"&&!Array.isArray(r)}var _h=/\$\{([A-Z0-9_]+)\}/g;function _e(r){if(typeof r=="string")return r.replace(_h,(e,t)=>process.env[t]??"");if(Array.isArray(r))return r.map(_e);if(gh(r)){let e={};for(let[t,n]of Object.entries(r))e[t]=_e(n);return e}return r}var Ah=Sh(import.meta.url),bh=Ah("js-yaml");function X(r){throw new Error(r)}function Te(r){return!!r&&typeof r=="object"&&!Array.isArray(r)}function Eh(r){let e=Io.readFileSync(r,"utf8");if(r.endsWith(".yml")||r.endsWith(".yaml"))return bh.load(e);if(r.endsWith(".json"))return JSON.parse(e);X(`Unsupported file type: ${r}`)}function Tn(r){let e=yh.resolve(process.cwd(),r);Io.existsSync(e)||X(`Suite file not found: ${e}`);let t=Eh(e);Te(t)||X("Suite file must be an object."),t.version!==1&&X(`Unsupported version: ${String(t.version)} (expected 1)`),(typeof t.suite!="string"||!t.suite.trim())&&X("suite must be a string."),(!Array.isArray(t.contracts)||t.contracts.length===0)&&X("contracts must be a non-empty array.");let n=t.contracts.map((i,s)=>{Te(i)||X(`contracts[${s}] must be an object.`),(typeof i.name!="string"||!i.name.trim())&&X(`contracts[${s}].name must string.`),(!Array.isArray(i.scenarios)||i.scenarios.length===0)&&X(`contracts[${s}].scenarios must be non-empty array.`);let o=i.scenarios.map((u,f)=>{Te(u)||X(`contracts[${s}].scenarios[${f}] must be an object.`),(typeof u.id!="string"||!u.id.trim())&&X("scenario id required."),Te(u.http)||X(`Scenario ${u.id}: http must be object.`);let c=String(u.http.method||"").toUpperCase(),h=String(u.http.path||"");c||X(`Scenario ${u.id}: http.method is required.`),h.startsWith("/")||X(`Scenario ${u.id}: http.path must start with "/".`);let l={method:c,path:String(_e(h)),headers:Te(u.http.headers)?_e(u.http.headers):void 0,query:Te(u.http.query)?_e(u.http.query):void 0,body:_e(u.http.body)},E=Te(u.expect)?{status:typeof u.expect.status=="number"?u.expect.status:void 0,json:"json"in u.expect?_e(u.expect.json):void 0,bodyContains:typeof u.expect.bodyContains=="string"?String(_e(u.expect.bodyContains)):void 0}:void 0;return{id:u.id,http:l,expect:E}}),a=new Set;for(let u of o)a.has(u.id)&&X(`Duplicate scenario id in contract "${i.name}": ${u.id}`),a.add(u.id);return{name:i.name,scenarios:o}});return{version:1,suite:t.suite,contracts:n}}function qo(r){return!!r&&typeof r=="object"&&!Array.isArray(r)}function Rt(r,e){if(e===null||typeof e!="object")return Object.is(r,e);if(Array.isArray(e)){if(!Array.isArray(r)||e.length>r.length)return!1;for(let t=0;t<e.length;t++)if(!Rt(r[t],e[t]))return!1;return!0}if(qo(e)){if(!qo(r))return!1;for(let t of Object.keys(e))if(!(t in r)||!Rt(r[t],e[t]))return!1;return!0}return!1}function vh(r,e){let t=r.replace(/\/+$/,""),n=e.startsWith("/")?e:`/${e}`;return`${t}${n}`}function Oh(r,e){if(!e)return r;let t=new URL(r);for(let[n,i]of Object.entries(e))t.searchParams.set(n,String(i));return t.toString()}async function Ch(r,e,t){let n=new AbortController,i=setTimeout(()=>n.abort(),t);try{return await fetch(r,{...e,signal:n.signal})}finally{clearTimeout(i)}}async function Fo(r,e){let t=e.http.method.toUpperCase(),n=Oh(vh(r,e.http.path),e.http.query),i=[],s={...e.http.headers||{}},o;e.http.body!==void 0&&e.http.body!==null&&(typeof e.http.body=="string"?o=e.http.body:(o=JSON.stringify(e.http.body),s["content-type"]||(s["content-type"]="application/json")));let a=Number(process.env.STONEY_TIMEOUT_MS||15e3),u=Number(process.env.STONEY_RETRIES||2),f;for(let c=0;c<=u;c++)try{let h=await Ch(n,{method:t,headers:s,body:o},a),l=h.status,E=await h.text(),g;if((h.headers.get("content-type")||"").includes("application/json"))try{g=JSON.parse(E)}catch{i.push("Response advertised JSON but failed to parse JSON.")}let C=e.expect||{},R=!0;return typeof C.status=="number"&&l!==C.status&&(R=!1,i.push(`Expected status ${C.status} but got ${l}.`)),typeof C.bodyContains=="string"&&!E.includes(C.bodyContains)&&(R=!1,i.push(`Expected body to contain: "${C.bodyContains}"`)),C.json!==void 0&&(g===void 0?(R=!1,i.push("Expected JSON subset match, but response was not JSON.")):Rt(g,C.json)||(R=!1,i.push("Expected JSON subset did not match response JSON."))),{id:e.id,ok:R,method:t,url:n,status:l,notes:i}}catch(h){if(f=h,c<u){let l=500*(c+1);await new Promise(E=>setTimeout(E,l));continue}}return{id:e.id,ok:!1,method:t,url:n,notes:[`Network/timeout error: ${f?.message||String(f)}`]}}var We=new Mo;We.name("stoney").description("Stoney \u2014 run HTTP contracts in CI.").version("0.0.1");We.command("hello").action(()=>console.log("\u{1FAA8} Stoney is alive."));We.command("parse").argument("<file>","Suite file (.yml/.yaml or .json)").option("--pretty","Pretty-print JSON").action((r,e)=>{let t=Tn(r);console.log(e.pretty?JSON.stringify(t,null,2):JSON.stringify(t))});We.command("run").requiredOption("--suite <glob>","Suite file path or glob (e.g. contracts/*.yml)").option("--base-url <url>","Base URL (defaults to STONEY_BASE_URL env var)").option("--report <path>","JSON report output path","stoney-report.json").option("--only-contract <name>","Run only one contract by name").option("--only-scenario <id>","Run only one scenario id").option("--fail-fast","Stop on first failure",!1).action(async r=>{let e=r.baseUrl||process.env.STONEY_BASE_URL;e||(console.error("Missing base URL. Provide --base-url or set STONEY_BASE_URL."),process.exit(2));let t=await(0,Bo.default)(r.suite);t.length||(console.error(`No suite files matched: ${r.suite}`),process.exit(2));let n=0,i=0,s=[];console.log(`
\u{1FAA8} Stoney run`),console.log(`Base URL: ${e}`),console.log(`Suites: ${t.join(", ")}
`);for(let u of t){let f=Tn(u);for(let c of f.contracts)if(!(r.onlyContract&&c.name!==r.onlyContract)){console.log(`Suite: ${f.suite}  Contract: ${c.name}`);for(let h of c.scenarios){if(r.onlyScenario&&h.id!==r.onlyScenario)continue;i++;let l=await Fo(e,h);if(s.push({suite:f.suite,contract:c.name,...l}),l.ok)console.log(`  \u2705 ${h.id} (${l.status??"?"})`);else{n++,console.log(`  \u274C ${h.id} (${l.status??"?"})`),console.log(`     ${l.method} ${l.url}`);for(let E of l.notes)console.log(`     - ${E}`);if(r.failFast)break}}if(console.log(""),r.failFast&&n>0)break}if(r.failFast&&n>0)break}let o={baseUrl:e,suites:t,total:i,failed:n,passed:i-n,ok:n===0,results:s},a=Rh.resolve(process.cwd(),r.report);xh.writeFileSync(a,JSON.stringify(o,null,2),"utf8"),console.log(`Report written: ${a}`),process.exit(n===0?0:1)});We.parse(process.argv);
/*! Bundled license information:

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
